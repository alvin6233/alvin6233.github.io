<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>alvin&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  
  <meta name="description" content="Record as you like">
<meta property="og:type" content="website">
<meta property="og:title" content="alvin&#39;s blog">
<meta property="og:url" content="https://dongme.site/page/6/index.html">
<meta property="og:site_name" content="alvin&#39;s blog">
<meta property="og:description" content="Record as you like">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="alvin&#39;s blog">
<meta name="twitter:description" content="Record as you like">
  
    <link rel="alternate" href="/atom.xml" title="alvin&#39;s blog" type="application/atom+xml">
  

  

  <link rel="icon" href="/css/images/mylogo.jpg">
  <link rel="apple-touch-icon" href="/css/images/mylogo.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>
  <script src="/js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >

  
    <link rel="stylesheet" href="/css/home.css" >
  

  

  

  
  
  
    <link rel="stylesheet" href="/css/vdonate.css" >
  

</head>



  <body>


  
    <header id="header">

	<!-- 背景图模式 -->
	

    
      <div id="intrologo" class="intro-logo" style="background-position:center; background-repeat:no-repeat; background-image: url(); background-size: auto 100%;">

      <!-- Support rolling -->  
        
        <section class="awSlider">
          <div class="carousel slide carousel-fade " data-ride="carousel">

            <!-- Wrapper for slides -->
            <div class="carousel-inner">
               
                  
                    <div class="item active">
                  
                    <img id="carousel-img0" src="/css/images/home-bg.jpg">
                  </div>

                  <!-- 自适应大图 -->
                  <script>
                      var img0 = new Image();
                      var imageTag0 = document.getElementById("carousel-img0");
                      img0.src = imageTag0.src;
                      img0.onload=function(){
                        if (img0.width / img0.height <= document.body.clientWidth / document.body.clientHeight) {
                          imageTag0.style.width = document.body.clientWidth + "px";
                        } else {
                          imageTag0.style.height = document.body.clientHeight + "px";
                          imageTag0.style.marginLeft = -(document.body.clientHeight * img0.width / img0.height - document.body.clientWidth) / 2 + "px";
                        }
                      };
                  </script>
                
                  
                    <div class="item">
                  
                    <img id="carousel-img1" src="/css/images/sample.jpg">
                  </div>

                  <!-- 自适应大图 -->
                  <script>
                      var img1 = new Image();
                      var imageTag1 = document.getElementById("carousel-img1");
                      img1.src = imageTag1.src;
                      img1.onload=function(){
                        if (img1.width / img1.height <= document.body.clientWidth / document.body.clientHeight) {
                          imageTag1.style.width = document.body.clientWidth + "px";
                        } else {
                          imageTag1.style.height = document.body.clientHeight + "px";
                          imageTag1.style.marginLeft = -(document.body.clientHeight * img1.width / img1.height - document.body.clientWidth) / 2 + "px";
                        }
                      };
                  </script>
                
                  
                    <div class="item">
                  
                    <img id="carousel-img2" src="https://source.unsplash.com/collection/954550/1920x1080">
                  </div>

                  <!-- 自适应大图 -->
                  <script>
                      var img2 = new Image();
                      var imageTag2 = document.getElementById("carousel-img2");
                      img2.src = imageTag2.src;
                      img2.onload=function(){
                        if (img2.width / img2.height <= document.body.clientWidth / document.body.clientHeight) {
                          imageTag2.style.width = document.body.clientWidth + "px";
                        } else {
                          imageTag2.style.height = document.body.clientHeight + "px";
                          imageTag2.style.marginLeft = -(document.body.clientHeight * img2.width / img2.height - document.body.clientWidth) / 2 + "px";
                        }
                      };
                  </script>
                
            </div>

            <!-- Controls -->
            <a class="left carousel-control" href=".carousel" role="button" data-slide="prev">
              <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
              <span class="sr-only">Geri</span>
            </a>
            <a class="right carousel-control" href=".carousel" role="button" data-slide="next">
              <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
              <span class="sr-only">İleri</span>
            </a>
          </div>
        </section>
        <script>
          $('section.awSlider .carousel').carousel({
              pause: '',
              interval: 5000
          });
          var startImage = $('section.awSlider .item.active > img').attr('src');
          $('section.awSlider .carousel').on('slid.bs.carousel', function () {
              var bscn = $(this).find('.item.active > img').attr('src');
              $('section.awSlider > img').attr('src', bscn);
          });
        </script>
      

    
 


    <canvas width="100%" height="100%"></canvas>
    <script>
      var c = document.getElementsByTagName('canvas')[0],
          x = c.getContext('2d'),
          w = window.innerWidth,
          h = window.innerHeight,
          pr = window.devicePixelRatio || 1,
          f = 90,
          q,
          m = Math,
          r = 0,
          u = m.PI*2,
          v = m.cos,
          z = m.random
      c.width = w*pr
      c.height = h*pr
      x.scale(pr, pr)
      x.globalAlpha = 0.6

      <!-- 折线Polyline背景 -->
      
    </script>
    

    
      <div id="homelogo" class="homelogo" style="background: rgba(255,255,255,1);"> 
    

        
          <div class="homelogoback"  style="border: 1px solid #404040;" >
            <h1><a href="#content" id="logo">alvin&#39;s blog</a></h1>
            <h3>Record as you like</h3>
            <h5>alvin dong</h5>
            <!-- <p><a href="https://github.com/iTimeTraveler" target="_blank">Github</a></p> -->
          </div>
        
    
    </div>
  </div>

  <!-- 自适应主页背景大图 -->
  

 <!-- home_logo_image居中 -->
 
    <script>
        var homelogodiv = document.getElementById("homelogo");
        if (document.all.homelogo.offsetWidth > document.body.clientWidth) {
          homelogodiv.style.width = document.body.clientWidth + "px";
          homelogodiv.style.marginLeft = document.body.clientWidth * -0.5 + "px";
        } else {
          homelogodiv.style.width = homelogodiv.clientWidth  + "px";
          homelogodiv.style.marginLeft = (homelogodiv.clientWidth)  * -0.5 + "px";
        }
    </script>
  

  <div class="intro-navigate">
      <p class="navigater-list">
        
          <a id="beautifont" class="main-nav-link" href="/">首页</a>
        
          <a id="beautifont" class="main-nav-link" href="/archives">归档</a>
        
          <a id="beautifont" class="main-nav-link" href="/categories">分类</a>
        
          <a id="beautifont" class="main-nav-link" href="/tags">标签</a>
        
          <a id="beautifont" class="main-nav-link" href="/about">关于</a>
        
      </p>
  </div>

</header>
  
  <div id="container">
    <div id="wrap">
      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;">
  
    <article id="post-java编程思想-14"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/08/16/java编程思想-14/">java编程思想[14]-RTTI</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/08/16/java编程思想-14/" class="article-date">
	  <time datetime="2018-08-16T10:13:00.000Z" itemprop="datePublished">2018-08-16</time>
	</a>

      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>RTTI，运行时类型信息。可以使你在程序运行时发现和使用类型信息。<br><a id="more"></a>  </p>
<h4 id="类型信息"><a href="#类型信息" class="headerlink" title="类型信息"></a>类型信息</h4><hr>
<p><strong>RTTI：</strong>Runtime Type Identification，即运行时类型识别。</p>
<h5 id="class-对象"><a href="#class-对象" class="headerlink" title="class 对象"></a>class 对象</h5><ul>
<li>class对象就是用来创建类的所有常规对象的，每个类都有一个class对象。换言之，每当编写并且编译了一个新类，就会产生一个class对象  </li>
<li>类中static成员初始化，是在类加载时进行的，<code>Class.forName(&quot; 类名 &quot;)</code>根据类名获取类对象，需要try块  </li>
<li>在知道具体的类型的对象时，获取类对象通过 <code>getClass()</code>方法  </li>
<li>类字面常量：java提供的另一种方法来生产class对象的引用。类似：<code>FancyToy.class</code>，该方式编译时受到检查，更简单，更安全  </li>
<li>类字面变量不仅可以应用于普通类，也可以应用于接口、数组以及基本数据类型  </li>
<li><p>使用 <code>.class</code>来创建class对象引用时，不会自动地初始化该Class对象，为使用类需做如下准备：  </p>
<ol>
<li>加载，由类加载器执行的。查找字节码（.class文件），并从字节码中创建一个Class对象</li>
<li>链接，该阶段将验证类中字节码，为静态域分配存储空间，如果必需的话，将解析这个类创建的对其它类的所有引用</li>
<li>初始化，若该类具有超类，则对其初始化，执行静态初始化器和静态初始化块。首次引用静态方法（构造器隐式静态）或非常数静态域才执行初始化。  </li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">class Initable &#123;</span><br><span class="line">    static final int staticFianl = 47;</span><br><span class="line">    static final int staticFinal2 = ClassInitialzation.rand.nextInt(1000);</span><br><span class="line"></span><br><span class="line">    static &#123;</span><br><span class="line">        System.out.println(&quot;Initializing Initable&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Initable2 &#123;</span><br><span class="line">    static int staticNoFinal = 147;</span><br><span class="line"></span><br><span class="line">    static &#123;</span><br><span class="line">        System.out.println(&quot;Initializing Initable2&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Initable3 &#123;</span><br><span class="line">    static int staticNoFinal = 74;</span><br><span class="line"></span><br><span class="line">    static &#123;</span><br><span class="line">        System.out.println(&quot;Initializing Initable3&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class ClassInitialzation &#123;</span><br><span class="line">    public static Random rand = new Random(47);</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws Exception &#123;</span><br><span class="line">        Class initable = Initable.class;</span><br><span class="line">        System.out.println(&quot;After creating Initable ref&quot;);</span><br><span class="line">        //不触发初始化</span><br><span class="line">        System.out.println(Initable.staticFianl);</span><br><span class="line">        //触发初始化</span><br><span class="line">        System.out.println(Initable.staticFinal2);</span><br><span class="line">        //触发初始化</span><br><span class="line">        System.out.println(Initable2.staticNoFinal);</span><br><span class="line">        //触发初始化</span><br><span class="line">        Class initable3 = Class.forName(&quot;me.donge.factorypackage.Initable3&quot;);</span><br><span class="line">        System.out.println(&quot;Afer creating Initable3 ref&quot;);</span><br><span class="line">        //已经被初始化过的 不会再次触发初始化</span><br><span class="line">        System.out.println(Initable3.staticNoFinal);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>泛化的Class引用  </p>
<p>1- 使用泛化的Class引用时放松限制，使用通配符，”?”表示任何事物</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Class&lt;?&gt; intClass = int.class;</span><br><span class="line">intClass = double.class;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p> 2- <code>newInstance()</code>方法可以创建某个类类型的实例对象  </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Class&lt;Integer&gt; intClass = int.class;</span><br><span class="line">int a = intClass.newInstance();</span><br></pre></td></tr></table></figure>
<p> 3- 类型转换前先做检查  </p>
<p>  <strong>3.1 RTTI形式：</strong>  </p>
<p>  3.1.1 传统的类型转换，即强制类型转换，如果执行了一个错误的类型转换，就会抛出一个ClassCastException异常。<br>  3.1.2 代表对象的类型的Class对象。通过查询Class对象可以获取运行时所需的信息。<br>  3.1.3 instanceof关键字，如判断x对象实例变量是否属于类Apple的实例，使用 <code>x instanceof Apple</code> 返回true or false，该方式不推荐使用，<br>  该方式只可将其与命名类进行比较，而不能与Class对象作比较。<br>  但是 instanceof 在 java 的编译状态和运行状态是有区别的：<br>  在编译状态中 class 可以是 object 对象的父类、自身类、子类，在这三种情况下 java 编译时不会报错；<br>  在运行转态中 class 可以是 object 对象的父类、自身类，但不能是子类，当为父类、自身类的情况下 result 结果为 true，为子类的情况下为 false。<br>  3.1.4 动态的instanceof<br>  Class.isInstance方法提供了一种动态地测试对象的方法，可替换单调的instanceof语句。语法：<code>class.isInstance(obj)</code>，表明这个对象能不能<br>  被转化为这个类  </p>
<p>  <strong>3.2 反射：运行时的类信息 </strong>  </p>
<p>  RTTI和反射的区别在于，对RTTI来说，编译器在编译时打开和检查.class文件（可以用普通方式调用对象所有方法）；对于反射机制来说，.class文件在<br>  编译时是不可获取的，所以是在运行时打开和检查.class文件。<br>  3.2.1 类方法提取器<br>  3.2.1.1 提取类方法包括基类的方法  </p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Class&lt;?&gt; c = Class.forName(args[0]);</span><br><span class="line">Method[] methods = c.getMethods();</span><br><span class="line">Constructor[] ctors = c.getConstructors();</span><br></pre></td></tr></table></figure>
<p>  3.2.1.2 动态代理<br>  不直接操作实际对象，而是通过代理对象简介操作实际对象，充当着中间人的角色。  </p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">interface Interface &#123;</span><br><span class="line">    void doSomething();</span><br><span class="line"></span><br><span class="line">    void somethingElse(String arg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class RealObject implements Interface &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void doSomething() &#123;</span><br><span class="line">        System.out.println(&quot;doSomething&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void somethingElse(String arg) &#123;</span><br><span class="line">        System.out.println(&quot;somethingElse &quot; + arg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class SimpleProxy implements Interface &#123;</span><br><span class="line">    private Interface proxied;</span><br><span class="line"></span><br><span class="line">    public SimpleProxy(Interface proxied) &#123;</span><br><span class="line">        this.proxied = proxied;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void doSomething() &#123;</span><br><span class="line">        System.out.println(&quot;SimpleProxy doSomething&quot;);</span><br><span class="line">        proxied.doSomething();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void somethingElse(String arg) &#123;</span><br><span class="line">        System.out.println(&quot;SimpleProxy somethingElse &quot; + arg);</span><br><span class="line">        proxied.somethingElse(arg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class SimpleProxyDemo &#123;</span><br><span class="line">    public static void consumer(Interface iface) &#123;</span><br><span class="line">        iface.doSomething();</span><br><span class="line">        iface.somethingElse(&quot;bonobo&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        consumer(new RealObject());</span><br><span class="line">        consumer(new SimpleProxy(new RealObject()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      
      
      
      
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/编程思想/">编程思想</a></li></ul>

      

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->


  
    <article id="post-java编程思想-10-13"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/08/16/java编程思想-10-13/">java编程思想[10-13]-内部类、持有对象、异常</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/08/16/java编程思想-10-13/" class="article-date">
	  <time datetime="2018-08-16T09:52:00.000Z" itemprop="datePublished">2018-08-16</time>
	</a>

      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>继续看java编程思想，这篇主要记录了书中第十章：内部类、第十一章：持有对象、第十二章：通过异常处理错误中的碎片知识。<br><a id="more"></a>  </p>
<h4 id="1-内部类"><a href="#1-内部类" class="headerlink" title="1.内部类"></a>1.内部类</h4><ul>
<li>内部类拥有对外部类所有元素的访问权限</li>
<li>利用内部类实现迭代器模式  </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Selector</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">end</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">Object <span class="title">current</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">next</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sequence</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Object[] items;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> next = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Sequence</span><span class="params">(<span class="keyword">int</span> size)</span> </span>&#123;</span><br><span class="line">        items = <span class="keyword">new</span> Object[size];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Object x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.items[next++] = x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">SequenceSelector</span> <span class="keyword">implements</span> <span class="title">Selector</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">end</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> i == items.length;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Object <span class="title">current</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> items[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (i &lt; items.length) &#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Selector <span class="title">selector</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> SequenceSelector();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Sequence sequence = <span class="keyword">new</span> Sequence(<span class="number">10</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            sequence.add(Integer.toString(i));</span><br><span class="line">        &#125;</span><br><span class="line">        Selector selector = sequence.selector();</span><br><span class="line">        <span class="keyword">while</span> (!selector.end()) &#123;</span><br><span class="line">            System.out.println(selector.current() + <span class="string">" "</span>);</span><br><span class="line">            selector.next();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>内外类互调，假如Outer为外部类，Inner为内部类<br><strong>内部类调用外部类:</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Outer outer = Outer.this;</span><br></pre></td></tr></table></figure>
<p> <strong>外部类调用内部类</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">外部类调用:</span><br><span class="line">Inner inner = new Inner();</span><br><span class="line"></span><br><span class="line">其它类调用:</span><br><span class="line">Outer.Inner inner = new Outer.Inner();//内部类为static才可以这样创建</span><br><span class="line">或</span><br><span class="line">Outer outer = new Outer();//通用</span><br><span class="line">Outer.Inner inner = outer.new Inner();</span><br></pre></td></tr></table></figure></p>
<ul>
<li>在方法和作用域内的内部类  <blockquote>
<p>作用:实现了某类型的接口，于是可以创建并返回对其的引用；需要解决一个复杂问题，想创建一个辅助类解决，又不想该类暴露出去；内部类使多重继承更加丰富。</p>
</blockquote>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> public interface Destination &#123;</span><br><span class="line">    String readLabel();</span><br><span class="line">&#125;</span><br><span class="line">public interface Contents &#123;</span><br><span class="line">    int value();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>1) 一个定义在方法中的类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public class Parcel5 &#123;</span><br><span class="line">    public Destination destination(String s) &#123;</span><br><span class="line">        class PDestination implements Destination &#123;</span><br><span class="line">            private String label;</span><br><span class="line"></span><br><span class="line">            private PDestination(String whereTo) &#123;</span><br><span class="line">                label = whereTo;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            public String readLabel() &#123;</span><br><span class="line">                return label;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return new PDestination(s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Parcel5 parcel5 = new Parcel5();</span><br><span class="line">        Destination destination = parcel5.destination(&quot;alvin&quot;);</span><br><span class="line">        System.out.println(destination.readLabel());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 2) 一个定义在作用域内的类，此作用域在方法的内部</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"> public class Parcel6 &#123;</span><br><span class="line">    private void internalTracking(boolean b) &#123;</span><br><span class="line">        if (b) &#123;</span><br><span class="line">            class TrackingSlip &#123;</span><br><span class="line">                private String id;</span><br><span class="line"></span><br><span class="line">                TrackingSlip(String s) &#123;</span><br><span class="line">                    id = s;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                String getSlip() &#123;</span><br><span class="line">                    return id;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            TrackingSlip ts = new TrackingSlip(&quot;slip&quot;);</span><br><span class="line">            String s = ts.getSlip();</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void track() &#123;</span><br><span class="line">        internalTracking(true);</span><br><span class="line">    &#125;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Parcel6 parcel6 = new Parcel6();</span><br><span class="line">        parcel6.track();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 3) 实现了接口的匿名类<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> public class Parcel7 &#123;</span><br><span class="line">    public Contents contents() &#123;</span><br><span class="line">        return new Contents() &#123;</span><br><span class="line">            private int i = 11;</span><br><span class="line"></span><br><span class="line">            public int value() &#123;</span><br><span class="line">                return i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Parcel7 parcel7 = new Parcel7();</span><br><span class="line">        Contents contents = parcel7.contents();</span><br><span class="line">        System.out.println(contents.value());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p> 等价于</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public class Parcel7b &#123;</span><br><span class="line">    class MyContents implements Contents &#123;</span><br><span class="line">        private int i = 11;</span><br><span class="line"></span><br><span class="line">        public int value() &#123;</span><br><span class="line">            return i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public Contents contents() &#123;</span><br><span class="line">        return new MyContents();</span><br><span class="line">    &#125;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Parcel7b parcel7b = new Parcel7b();</span><br><span class="line">        Contents contents = parcel7b.contents();</span><br><span class="line">        System.out.println(contents.value());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 4) 一个匿名类，它扩展了具有非默认构造器的类<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> public class Parcel8 &#123;</span><br><span class="line">    public Wrapping wrapping(int x) &#123;</span><br><span class="line">        return new Wrapping(x) &#123;</span><br><span class="line">            public int value() &#123;</span><br><span class="line">                return super.value() * 47;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Parcel8 parcel8 = new Parcel8();</span><br><span class="line">        Wrapping wrapping = parcel8.wrapping(10);</span><br><span class="line">        System.out.println(wrapping.value());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p> 尽管Wrapping只是一个具有具体实现的普通类，但它还是被其导出类当做”公共接口”使用:<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">	 public class Wrapping &#123;</span><br><span class="line">	    private int i;</span><br><span class="line">	    public Wrapping(int x) &#123;</span><br><span class="line">	        i = x;</span><br><span class="line">	    &#125;</span><br><span class="line">	    public int value() &#123;</span><br><span class="line">	        return i;</span><br><span class="line">	    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p> 5）一个匿名类，它执行字段初始化<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> public class Parcel9 &#123;</span><br><span class="line">    public Destination destination(final String dest) &#123;</span><br><span class="line">        return new Destination() &#123;</span><br><span class="line">            private String label = dest;</span><br><span class="line">            @Override</span><br><span class="line">            public String readLabel() &#123;</span><br><span class="line">                return dest;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Parcel9 parcel9 = new Parcel9();</span><br><span class="line">        Destination destination = parcel9.destination(&quot;alvin&quot;);</span><br><span class="line">        System.out.println(destination.readLabel());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>内部类使用外部对象作为参数，要将参数声明为final类型，否则编译报错。注意必须内部类内部使用到才必须声明为final。</p>
</blockquote>
<p> 6）一个匿名类，它通过实例初始化实现构造(匿名类不可能有匿名构造器)<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">abstract class Base &#123;</span><br><span class="line">    public Base(int i) &#123;</span><br><span class="line">        System.out.println(&quot;Base Constructor. i=&quot; + i);</span><br><span class="line">    &#125;</span><br><span class="line">    public abstract void f();</span><br><span class="line">&#125;</span><br><span class="line">public class AnonymousConstructor &#123;</span><br><span class="line">    public static Base getBase(int i) &#123;</span><br><span class="line">        return new Base(i) &#123;</span><br><span class="line">            &#123;</span><br><span class="line">                System.out.println(&quot;Inside instance initializer&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            public void f() &#123;</span><br><span class="line">                System.out.println(&quot;In anonymous f()&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Base base = getBase(47);</span><br><span class="line">        base.f();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li>匿名内部类实现工厂方法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"> interface Service &#123;</span><br><span class="line">    void method1();</span><br><span class="line"></span><br><span class="line">    void method2();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface ServiceFactory &#123;</span><br><span class="line">    Service getService();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Implementation1 implements Service &#123;</span><br><span class="line">    public void method1() &#123;</span><br><span class="line">        System.out.println(&quot;Implementation1 method1&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    public void method2() &#123;</span><br><span class="line">        System.out.println(&quot;Implementation1 method2&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    public static ServiceFactory factory = new ServiceFactory() &#123;</span><br><span class="line">        public Service getService() &#123;</span><br><span class="line">            return new Implementation1();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line">class Implementation2 implements Service &#123;</span><br><span class="line">    public void method1() &#123;</span><br><span class="line">        System.out.println(&quot;Implementation2 method1&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    public void method2() &#123;</span><br><span class="line">        System.out.println(&quot;Implementation2 method2&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    public static ServiceFactory factory = new ServiceFactory() &#123;</span><br><span class="line">        public Service getService() &#123;</span><br><span class="line">            return new Implementation2();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line">public class Factories &#123;</span><br><span class="line">    public static void serviceConsumer(ServiceFactory factory) &#123;</span><br><span class="line">        Service s = factory.getService();</span><br><span class="line">        s.method1();</span><br><span class="line">        s.method2();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        serviceConsumer(Implementation1.factory);</span><br><span class="line">        serviceConsumer(Implementation2.factory);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>嵌套类</li>
</ul>
<blockquote>
<p>如果不需要内部类对象与其外围类对象之间有联系，那么可以将内部类声明为static.即为嵌套类<br>普通的内部类对象隐式地保存了一个引用，指向创建它的外围类对象。然而，当内部类是static时，就不是这样了。</p>
</blockquote>
<p>嵌套类意味着:<br>1) 要创建嵌套类的对象，并不需要其外围类的对象。<br>2）不能从嵌套类的对象中访问非静态的外围类对象。<br>3）普通的内部类不能有static数据和static字段，也不能包含嵌套类。但嵌套类可以。</p>
<p><strong>接口中的内部类</strong><br>放到接口中的任何类都是public和static的。嵌套类可以作为接口的一部分。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public interface ClassInInterface &#123;</span><br><span class="line">    void howdy();</span><br><span class="line"></span><br><span class="line">    class Test implements ClassInInterface &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public void howdy() &#123;</span><br><span class="line">            System.out.println(&quot;howdy&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public static void main(String[] args) &#123;</span><br><span class="line">            new Test().howdy();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>接口中的内部类，可以被所有实现共用。</p>
<ul>
<li>内部类存是多态性的体现，变向的实现了多重继承，外部类的继承或实现对内部类没有影响</li>
<li><p>闭包和回调<br><strong>闭包</strong><br>是一个可调用的对象，它记录了一些信息，这些信息来自于创建它的作用域。内部类属于面向对象的闭包（隐式外部类对象引用）<br><strong>内部类闭包实现回调</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Incrementable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">increment</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Callee1</span> <span class="keyword">implements</span> <span class="title">Incrementable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">increment</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        i++;</span><br><span class="line">        System.out.println(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyIncrement</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">increment</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"other operation"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">(MyIncrement mi)</span> </span>&#123;</span><br><span class="line">        mi.increment();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Callee2</span> <span class="keyword">extends</span> <span class="title">MyIncrement</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">increment</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.increment();</span><br><span class="line">        i++;</span><br><span class="line">        System.out.println(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Closure</span> <span class="keyword">implements</span> <span class="title">Incrementable</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">increment</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            Callee2.<span class="keyword">this</span>.increment();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">Incrementable <span class="title">getCallbackReference</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Closure();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Caller</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Incrementable callbackReference;</span><br><span class="line"></span><br><span class="line">    Caller(Incrementable cbh) &#123;</span><br><span class="line">        callbackReference = cbh;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">go</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        callbackReference.increment();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Callbacks</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Callee1 c1 = <span class="keyword">new</span> Callee1();</span><br><span class="line">        Callee2 c2 = <span class="keyword">new</span> Callee2();</span><br><span class="line">        MyIncrement.f(c2);</span><br><span class="line">        Caller caller1 = <span class="keyword">new</span> Caller(c1);</span><br><span class="line">        Caller caller2 = <span class="keyword">new</span> Caller(c2.getCallbackReference());</span><br><span class="line">        caller1.go();</span><br><span class="line">        caller1.go();</span><br><span class="line">        caller2.go();</span><br><span class="line">        caller2.go();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>内部类与控制框架</p>
</li>
</ul>
<p><strong>应用程序框架:</strong></p>
<blockquote>
<p>就是被设计用以解决某类特定问题的一个类或一组类。<br>要运用某个应用框架，通常是继承一个或多个类，并覆盖某些方法。在覆盖后的方法中，编写代码定制应用程序框架提供的通用解决方案，以解决特定问题—设计模式中模板方法的例子</p>
</blockquote>
<p><strong>控制框架:</strong></p>
<blockquote>
<p>一类特殊的应用程序框架，用来解决响应事件的需求。主要用来响应事件的系统被称作事件驱动系统。实例:java swing</p>
</blockquote>
<p><strong>内部类使用控制框架</strong></p>
<ul>
<li><p>内部类的继承<br>因为内部类的构造器必须连接到指向其外围类对象引用，所以在继承内部类的时候要有一些特殊处理。在导出类中不存在可连接的默认对象，而指向外围类对象的隐秘引用必须被初始化。具体处理继承类构造器中添加<br><code>enclosingClassReference.super()</code> enclosingClassReference是外围类对象如下:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WithInner</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Inner</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InheritInner</span> <span class="keyword">extends</span> <span class="title">WithInner</span>.<span class="title">Inner</span></span>&#123;</span><br><span class="line">    InheritInner(WithInner wi)&#123;</span><br><span class="line">        wi.<span class="keyword">super</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        WithInner wi = <span class="keyword">new</span> WithInner();</span><br><span class="line">        InheritInner ii = <span class="keyword">new</span> InheritInner(wi);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>内部类的覆盖并无卵用</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Egg</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Yolk y;</span><br><span class="line">    <span class="keyword">protected</span> <span class="class"><span class="keyword">class</span> <span class="title">Yolk</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Yolk</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">"Egg.Yolk()"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Egg</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"New Egg()"</span>);</span><br><span class="line">        <span class="keyword">this</span>.y = <span class="keyword">new</span> Yolk();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BigEgg</span> <span class="keyword">extends</span> <span class="title">Egg</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Yolk</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Yolk</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">"BigEgg.Yolk()"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> BigEgg();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以看出当继承了某个外围类的时候，内部类并没有发生什么变化。这两个内部类是完全独立的实体，各自在自己的命名空间里。</p>
<ul>
<li>局部内部类<br>局部内部类不能有访问修饰符，因为它不是外围类的一部分；但是它可以访问当前代码块内的常量，以及此外围类的所有成员。<br>下面对局部内部类和匿名内部类做比较:<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Counter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">next</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LocalnnerClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="function">Counter <span class="title">getCounter</span><span class="params">(<span class="keyword">final</span> String name)</span> </span>&#123;</span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">LocalCounter</span> <span class="keyword">implements</span> <span class="title">Counter</span> </span>&#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="title">LocalCounter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">"LocalCounter()"</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(name);</span><br><span class="line">                <span class="keyword">return</span> count++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> LocalCounter();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">Counter <span class="title">getCounter2</span><span class="params">(<span class="keyword">final</span> String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Counter() &#123;</span><br><span class="line">            &#123;</span><br><span class="line">                System.out.println(<span class="string">"Counter()"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> count ++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        LocalnnerClass lic = <span class="keyword">new</span> LocalnnerClass();</span><br><span class="line">        Counter</span><br><span class="line">                c1 = lic.getCounter(<span class="string">"Local inner"</span>),</span><br><span class="line">                c2 = lic.getCounter2(<span class="string">"Anonymous inner"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            System.out.println(c1.next());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            System.out.println(c2.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>使用局部内部类而不使用匿名类的理由如下:<br>1）需要构造器，或需要重载构造器<br>2）需要不止一个该内部类对象</p>
<ul>
<li><p>内部类标示符<br><code>外围类的名字 + &quot;$&quot; + 内部类名字 + &quot;.class&quot;</code></p>
<h4 id="2-持有对象"><a href="#2-持有对象" class="headerlink" title="2.持有对象"></a>2.持有对象</h4></li>
<li><p>使用 <code>@SuppressWarnings(unchecked)</code>注解及其参数来抑制”不受检查的异常”的警告信息</p>
</li>
<li>容器使用泛型可以在编译期防止将错误的类型对象放入到容器中</li>
<li>Arrays.asList()可接受数组或逗号分隔的元素列表，转换为List对象</li>
<li>Collection.addAll()方法接受一个Collection对象，以及一个数组或逗号分隔的列表</li>
<li>Collection的构造器可以接受另一个Collection，用来将自身初始化，`Collection<integer> cellection = new ArrayList<integer>(Arrays.asList(1,2,3,4,5))，但Collection.addAll()速度快是首选;</integer></integer></li>
<li><p>List<br>1）基本的ArrayList，它长于随机访问元素，但在List中间插入和移除元素时较慢<br>2）LinkedList，执行插入和删除的速度比较快，提供优化的顺序访问，随机访问方面比较慢  </p>
<p><strong>subList:</strong> 从较大列表截取片断列表，对所返回的列表的修改会反映到初始列表中，反之亦然。<br><strong>retainAll():</strong> 是一种有效的交际操作，所产生的行为依赖于equals方法<br><strong>removeAll():</strong> 也是基于equals方法，移除List中所有元素<br><strong>set():</strong> 替换制定索引处的元素<br><strong>toArray():</strong> 可以将List或其他Collection转换为数组  </p>
</li>
<li><p>迭代器<br><strong>Iterator</strong></p>
<p>利用了迭代器设计模式，这个Iterator只能单向移动，如下操作:<br>1）使用方法iterator()要求容器返回一个Iterator。Iterator将准备好返回序列中的第一个元素<br>2）使用next()获取序列中的下一个元素<br>3）使用hasNext()检查序列中是否还有元素<br>4）使用remove将迭代器新近返回的元素删除<br>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleIteration</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;(Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>));</span><br><span class="line">        Iterator&lt;Integer&gt; iterator = list.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">int</span> in = iterator.next();</span><br><span class="line">            System.out.println(in);</span><br><span class="line">        &#125;</span><br><span class="line">        iterator = list.iterator();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">            iterator.remove();<span class="comment">//移除由next()产生的最后一个元素，调用romove()之前必须先调用next()</span></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>注意:这里有个坑这里用<code>new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5, 6));</code> 如果直接用<code>Arrays.asList(1, 2, 3, 4, 5, 6)</code>会报java.lang.UnsupportedOperationException的错误，原因是@return a list view of the specified array意思是<br>返回一个固定大小的数组。自然不支持add和remove操作。</p>
<p><strong>ListIterator</strong><br>ListIterator是一个更加强大的iterator的子类型，它只能用于各种List访问；可以双向移动；可以产生迭代器在列表中指向的当前位置的前一个和后一个元素的索引，并且可以使用set()方法替换它访问过的最后一个元素。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListIteration</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;(Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>));</span><br><span class="line">        ListIterator&lt;Integer&gt; listIterator = list.listIterator();</span><br><span class="line">        <span class="keyword">while</span> (listIterator.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">int</span> in = listIterator.next();</span><br><span class="line">            System.out.println(in + <span class="string">","</span> + listIterator.nextIndex() + <span class="string">","</span> + listIterator.previousIndex());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// backwards</span></span><br><span class="line">        <span class="keyword">while</span> (listIterator.hasPrevious()) &#123;</span><br><span class="line">            System.out.println(listIterator.previous());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        listIterator = list.listIterator(<span class="number">3</span>);</span><br><span class="line">        <span class="keyword">while</span> (listIterator.hasNext()) &#123;</span><br><span class="line">            listIterator.next();</span><br><span class="line">            listIterator.set(<span class="keyword">new</span> Random().nextInt());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>LinkedList<br>LinkedList实现了List接口，但是它执行某些插入和删除操作的时候比ArrayList要高效，在随机访问方面要逊色一些；LinkedList添加了可以用作栈、队列或双端队列的方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedListFeatures</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        LinkedList&lt;Integer&gt; list = <span class="keyword">new</span> LinkedList&lt;&gt;(Arrays.asList(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>));</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        System.out.println(<span class="string">"list.getFirst():"</span> + list.getFirst());<span class="comment">//返回列表第一个元素,列表为空抛出异常</span></span><br><span class="line">        System.out.println(<span class="string">"list.element():"</span> + list.element());<span class="comment">//功能和getFirst()相同，返回列表第一个元素,列表为空抛出异常</span></span><br><span class="line">        System.out.println(<span class="string">"list.peek():"</span> + list.peek());<span class="comment">//返回列表第一个元素，与上面两个区别是列表为空返回null</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"list.remove():"</span> + list.remove()); <span class="comment">//删除并返回列表头，列表为空抛异常</span></span><br><span class="line">        System.out.println(<span class="string">"list.removeFirst():"</span> + list.removeFirst());<span class="comment">//功能通remove()，删除并返回列表头，列表为空抛异常</span></span><br><span class="line">        System.out.println(<span class="string">"list.poll():"</span> + list.poll());<span class="comment">//删除并返回列表头，与remove() 和 removeFirst()区别列表为空返回null</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//addFirst() 在头部添加元素</span></span><br><span class="line">        <span class="comment">//offer() 和 add() 和 addLast()相同，它们都将某个元素插入到列表的尾部</span></span><br><span class="line">        <span class="comment">//removeLast() 删除并返回队尾的元素</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Stack</p>
</li>
</ul>
<p>后进先出<br><strong>LinkedList实现的栈:</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Stack</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> LinkedList&lt;T&gt; storage = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(T v)</span> </span>&#123;</span><br><span class="line">        storage.addFirst(v);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> storage.getFirst();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> storage.removeFirst();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">empty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> storage.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> storage.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>原始的栈:</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stack</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">Vector</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Creates an empty Stack.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Stack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Pushes an item onto the top of this stack. This has exactly</span></span><br><span class="line"><span class="comment">     * the same effect as:</span></span><br><span class="line"><span class="comment">     * &lt;blockquote&gt;&lt;pre&gt;</span></span><br><span class="line"><span class="comment">     * addElement(item)&lt;/pre&gt;&lt;/blockquote&gt;</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>   item   the item to be pushed onto this stack.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>  the &lt;code&gt;item&lt;/code&gt; argument.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span>     java.util.Vector#addElement</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">push</span><span class="params">(E item)</span> </span>&#123;</span><br><span class="line">        addElement(item);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> item;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Removes the object at the top of this stack and returns that</span></span><br><span class="line"><span class="comment">     * object as the value of this function.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>  The object at the top of this stack (the last item</span></span><br><span class="line"><span class="comment">     *          of the &lt;tt&gt;Vector&lt;/tt&gt; object).</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span>  EmptyStackException  if this stack is empty.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> E <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        E       obj;</span><br><span class="line">        <span class="keyword">int</span>     len = size();</span><br><span class="line"></span><br><span class="line">        obj = peek();</span><br><span class="line">        removeElementAt(len - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Looks at the object at the top of this stack without removing it</span></span><br><span class="line"><span class="comment">     * from the stack.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>  the object at the top of this stack (the last item</span></span><br><span class="line"><span class="comment">     *          of the &lt;tt&gt;Vector&lt;/tt&gt; object).</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span>  EmptyStackException  if this stack is empty.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> E <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>     len = size();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (len == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> EmptyStackException();</span><br><span class="line">        <span class="keyword">return</span> elementAt(len - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Tests if this stack is empty.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>  &lt;code&gt;true&lt;/code&gt; if and only if this stack contains</span></span><br><span class="line"><span class="comment">     *          no items; &lt;code&gt;false&lt;/code&gt; otherwise.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">empty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> size() == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Returns the 1-based position where an object is on this stack.</span></span><br><span class="line"><span class="comment">     * If the object &lt;tt&gt;o&lt;/tt&gt; occurs as an item in this stack, this</span></span><br><span class="line"><span class="comment">     * method returns the distance from the top of the stack of the</span></span><br><span class="line"><span class="comment">     * occurrence nearest the top of the stack; the topmost item on the</span></span><br><span class="line"><span class="comment">     * stack is considered to be at distance &lt;tt&gt;1&lt;/tt&gt;. The &lt;tt&gt;equals&lt;/tt&gt;</span></span><br><span class="line"><span class="comment">     * method is used to compare &lt;tt&gt;o&lt;/tt&gt; to the</span></span><br><span class="line"><span class="comment">     * items in this stack.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>   o   the desired object.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>  the 1-based position from the top of the stack where</span></span><br><span class="line"><span class="comment">     *          the object is located; the return value &lt;code&gt;-1&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     *          indicates that the object is not on the stack.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = lastIndexOf(o);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> size() - i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** use serialVersionUID from JDK 1.0.2 for interoperability */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1224463164541339165L</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>可以看出原始的栈是线程安全的</p>
</blockquote>
<ul>
<li>Set</li>
</ul>
<blockquote>
<p>Set是接口，不保存重复元素，通常选择一个HashSet的实现，它对快速查找进行了优化，发现jdk8版本HashSet可以实现自动排序</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SetOfInteger</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Random rand = <span class="keyword">new</span> Random(<span class="number">47</span>);</span><br><span class="line">        Set&lt;Integer&gt; intset = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++) &#123;</span><br><span class="line">            intset.add(rand.nextInt(<span class="number">30</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(intset);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>HashSet使用的是散列函数，没有顺序。LinkedHashSet因为查询速度的原因也使用了散列，但是它使用了链表来维护元素插入顺序。TreeSet将元素存储在红黑数据结构中</p>
</blockquote>
<p><strong>使用TreeSet代替HashSet实现对结果排序</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SortedSetOfInteger</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Random rand = <span class="keyword">new</span> Random(<span class="number">47</span>);</span><br><span class="line">        SortedSet&lt;Integer&gt; intset = <span class="keyword">new</span> TreeSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++) &#123;</span><br><span class="line">            intset.add(rand.nextInt(<span class="number">30</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(intset);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>TreeSet<br>set的contains()和containsAll()，前者是是否包含元素，后者是是否包含集合</p>
</blockquote>
<p>TreeSet主要构造方法:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//默认构造方法，根据其元素的自然顺序进行排序</span><br><span class="line">public TreeSet() &#123;</span><br><span class="line">    this(new TreeMap&lt;E,Object&gt;());</span><br><span class="line">&#125;</span><br><span class="line">//构造一个新的空 TreeSet，它根据指定比较器进行排序。</span><br><span class="line">public TreeSet(Comparator&lt;? super E&gt; comparator) &#123;</span><br><span class="line">        this(new TreeMap&lt;&gt;(comparator));</span><br><span class="line">&#125;</span><br><span class="line">//构造一个包含指定 collection 元素的新 TreeSet，它按照其元素的自然顺序进行排序。</span><br><span class="line">public TreeSet(Collection&lt;? extends E&gt; c) &#123;</span><br><span class="line">    this();</span><br><span class="line">    addAll(c);</span><br><span class="line">&#125;</span><br><span class="line">//构造一个与指定有序 set 具有相同映射关系和相同排序的新 TreeSet。</span><br><span class="line">public TreeSet(SortedSet&lt;E&gt; s) &#123;</span><br><span class="line">    this(s.comparator());</span><br><span class="line">    addAll(s);</span><br><span class="line">&#125;</span><br><span class="line">TreeSet(NavigableMap&lt;E,Object&gt; m) &#123;</span><br><span class="line">    this.m = m;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>notice:Comparable和Comparator比较:<br>1) 若一个类实现了Comparable接口，就意味着”该类支持排序”。  即然实现Comparable接口的类支持排序，假设现在存在”实现Comparable接口的类的对象的List列表(或数组)”，则该List列表(或数组)可以通过 Collections.sort（或 Arrays.sort）进行排序。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Comparable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(T o)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>假设我们通过 x.compareTo(y) 来“比较x和y的大小”。若返回“负数”，意味着“x比y小”；返回“零”，意味着“x等于y”；返回“正数”，意味着“x大于y”。<br>2）我们若需要控制某个类的次序，而该类本身不支持排序(即没有实现Comparable接口)；那么，我们可以建立一个“该类的比较器”来进行排序。这个“比较器”只需要实现Comparator接口即可。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Comparator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(T o1, T o2)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>int compare(T o1, T o2) 是“比较o1和o2的大小”。返回“负数”，意味着“o1比o2小”；返回“零”，意味着“o1等于o2”；返回“正数”，意味着“o1大于o2”。</p>
<p>TreeSet主要方法:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">1、add：将指定的元素添加到此 set（如果该元素尚未存在于 set 中）。</span><br><span class="line">2、addAll：将指定 collection 中的所有元素添加到此 set 中。</span><br><span class="line">3、ceiling：返回此 set 中大于等于给定元素的最小元素；如果不存在这样的元素，则返回 null。</span><br><span class="line">4、clear：移除此 set 中的所有元素。</span><br><span class="line">5、clone：返回 TreeSet 实例的浅表副本。属于浅拷贝。</span><br><span class="line">6、comparator：返回对此 set 中的元素进行排序的比较器；如果此 set 使用其元素的自然顺序，则返回 null。</span><br><span class="line">7、contains：如果此 set 包含指定的元素，则返回 true。</span><br><span class="line">8、descendingIterator：返回在此 set 元素上按降序进行迭代的迭代器。</span><br><span class="line">9、descendingSet：返回此 set 中所包含元素的逆序视图。</span><br><span class="line">10、first：返回此 set 中当前第一个（最低）元素。</span><br><span class="line">11、floor：返回此 set 中小于等于给定元素的最大元素；如果不存在这样的元素，则返回 null。</span><br><span class="line">12、headSet：返回此 set 的部分视图，其元素严格小于 toElement。</span><br><span class="line">13、higher：返回此 set 中严格大于给定元素的最小元素；如果不存在这样的元素，则返回 null。</span><br><span class="line">14、isEmpty：如果此 set 不包含任何元素，则返回 true。</span><br><span class="line">15、iterator：返回在此 set 中的元素上按升序进行迭代的迭代器。</span><br><span class="line">16、last：返回此 set 中当前最后一个（最高）元素。</span><br><span class="line">17、lower：返回此 set 中严格小于给定元素的最大元素；如果不存在这样的元素，则返回 null。</span><br><span class="line">18、pollFirst：获取并移除第一个（最低）元素；如果此 set 为空，则返回 null。</span><br><span class="line">19、pollLast：获取并移除最后一个（最高）元素；如果此 set 为空，则返回 null。</span><br><span class="line">20、remove：将指定的元素从 set 中移除（如果该元素存在于此 set 中）。</span><br><span class="line">21、size：返回 set 中的元素数（set 的容量）。</span><br><span class="line">22、subSet：返回此 set 的部分视图</span><br><span class="line">23、tailSet：返回此 set 的部分视图</span><br></pre></td></tr></table></figure></p>
<ul>
<li>Map</li>
</ul>
<blockquote>
<p>Map通过keySet()可以返回它的键的Set，通过keyValues()它的值的Collection，或者它的键值对的Set。</p>
</blockquote>
<ul>
<li>Queue</li>
</ul>
<blockquote>
<p>队列是先进先出的容器。在并发编程中特别重要。</p>
</blockquote>
<p><strong>LinkedList实现的Queue:</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QueueDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printQ</span><span class="params">(Queue queue)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (queue.peek() != <span class="keyword">null</span>) &#123;<span class="comment">//判断队头元素是否为空</span></span><br><span class="line">            System.out.print(queue.remove() + <span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(<span class="string">"============================"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        Random random = <span class="keyword">new</span> Random(<span class="number">37</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> randNum = random.nextInt(i + <span class="number">10</span>);</span><br><span class="line">            System.out.println(randNum);</span><br><span class="line">            queue.offer(randNum);<span class="comment">//加入队尾</span></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(queue);</span><br><span class="line">        Queue&lt;Character&gt; qc = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : <span class="string">"Brontosaurus"</span>.toCharArray()) &#123;</span><br><span class="line">            qc.offer(c);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(qc);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>PriorityQueue优先级队列:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PriorityQueueDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        PriorityQueue&lt;Integer&gt; priorityQueue = <span class="keyword">new</span> PriorityQueue&lt;&gt;();</span><br><span class="line">        Random rand = <span class="keyword">new</span> Random(<span class="number">47</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            priorityQueue.offer(rand.nextInt(i + <span class="number">20</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        QueueDemo.printQ(priorityQueue);<span class="comment">// 允许重复，最小值有最高优先级放队头</span></span><br><span class="line">        List&lt;Integer&gt; ints = Arrays.asList(<span class="number">25</span>, <span class="number">22</span>, <span class="number">18</span>, <span class="number">14</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">14</span>, <span class="number">18</span>, <span class="number">21</span>, <span class="number">23</span>, <span class="number">25</span>);</span><br><span class="line">        priorityQueue = <span class="keyword">new</span> PriorityQueue&lt;&gt;(ints);</span><br><span class="line">        QueueDemo.printQ(priorityQueue);</span><br><span class="line">        priorityQueue = <span class="keyword">new</span> PriorityQueue&lt;&gt;(ints.size(), Collections.reverseOrder());<span class="comment">// Collections.reverseOrder() 为自带比较器，产生反序，可自定义实现</span></span><br><span class="line">        priorityQueue.addAll(ints);</span><br><span class="line">        QueueDemo.printQ(priorityQueue);</span><br><span class="line">        String fact = <span class="string">"EDUCcATION SHOULD ESCHEW OBFUSCATION"</span>;</span><br><span class="line">        List&lt;String&gt; strings = Arrays.asList(fact.split(<span class="string">""</span>));</span><br><span class="line">        PriorityQueue&lt;String&gt; stringPQ = <span class="keyword">new</span> PriorityQueue&lt;&gt;(strings);</span><br><span class="line">        QueueDemo.printQ(stringPQ);<span class="comment">//String类型，按照字母对应ascii从小到大，从队头到队尾</span></span><br><span class="line">        stringPQ = <span class="keyword">new</span> PriorityQueue&lt;&gt;(strings.size(), Collections.reverseOrder());</span><br><span class="line">        stringPQ.addAll(strings);</span><br><span class="line">        QueueDemo.printQ(stringPQ);</span><br><span class="line"></span><br><span class="line">        Set&lt;Character&gt; charset = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : fact.toCharArray()) &#123;</span><br><span class="line">            charset.add(c);</span><br><span class="line">        &#125;</span><br><span class="line">        PriorityQueue&lt;Character&gt; characterPQ = <span class="keyword">new</span> PriorityQueue&lt;&gt;(charset);</span><br><span class="line">        QueueDemo.printQ(characterPQ);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Foreach和迭代器</li>
</ul>
<p>任何实现Iterable的类，都可以用于foreach语句中:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IterableClass</span> <span class="keyword">implements</span> <span class="title">Iterable</span>&lt;<span class="title">String</span>&gt; </span>&#123;<span class="comment">//泛型使用</span></span><br><span class="line">   <span class="keyword">protected</span> String[] words = (<span class="string">"And that is how"</span> + <span class="string">"we know the Earth to be banana-shaped."</span>).split(<span class="string">" "</span>);</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterator&lt;String&gt; <span class="title">iterator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Iterator&lt;String&gt;() &#123;</span><br><span class="line">            <span class="keyword">private</span> <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> index &lt; words.length;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">public</span> String <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> words[index++];</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (String s : <span class="keyword">new</span> IterableClass()) &#123;</span><br><span class="line">            System.out.print(s + <span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当你有一个接口并需要另外一个接口时，编写适配器就可以解决问题。例如添加一个能够产生Iterable对象的方法，该对象可以用于foreach语句。属于:适配器模式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ReversibleArrayList</span>&lt;<span class="title">T</span>&gt; <span class="keyword">extends</span> <span class="title">ArrayList</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ReversibleArrayList</span><span class="params">(Collection&lt;? extends T&gt; c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(c);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterable&lt;T&gt; <span class="title">reversed</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Iterable&lt;T&gt;() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> Iterator&lt;T&gt; <span class="title">iterator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> Iterator&lt;T&gt;() &#123;</span><br><span class="line">                    <span class="keyword">int</span> current = size() -<span class="number">1</span>;</span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                        <span class="keyword">return</span> current &gt; -<span class="number">1</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="function"><span class="keyword">public</span> T <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                        <span class="keyword">return</span> get(current--);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AdapterMethodIdiom</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ReversibleArrayList&lt;String&gt; ral = <span class="keyword">new</span> ReversibleArrayList(Arrays.asList(<span class="string">"To be or not to be"</span>.split(<span class="string">" "</span>)));</span><br><span class="line">        <span class="keyword">for</span> (String s : ral) &#123;</span><br><span class="line">            System.out.print(s + <span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        <span class="keyword">for</span> (String s : ral.reversed()) &#123;</span><br><span class="line">            System.out.print(s + <span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-通过异常处理错误"><a href="#3-通过异常处理错误" class="headerlink" title="3.通过异常处理错误"></a>3.通过异常处理错误</h4><ul>
<li>异常类型的根类是Throwable</li>
<li>监控区域的概念<br>一段可能产生异常的代码，后面跟着处理这些异常的代码</li>
<li>异常处理程序，就是catch块</li>
<li>异常处理理论上有两种基本模型：终止模型(无法返回异常发生地方继续执行)和恢复模型(修正错误，并继续调用出错方法)</li>
<li>恢复模型包含依赖于抛出位置的非通用性代码，增加代码编写和维护的难度</li>
<li>创建自定义异常<blockquote>
<p>自定义异常必须从已有类中继承，最好选择意思相近。<br>对异常来说最重要的部分就是类名<br>最简单的方法就是让编译期为你产生默认构造器</p>
</blockquote>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SimpleException</span> <span class="keyword">extends</span> <span class="title">Exception</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InheritingExceptions</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> <span class="keyword">throws</span> SimpleException </span>&#123;</span><br><span class="line">        System.out.printf(<span class="string">"Throw SimpleException from f()"</span>);</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> SimpleException();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        InheritingExceptions sed = <span class="keyword">new</span> InheritingExceptions();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            sed.f();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SimpleException e) &#123;</span><br><span class="line">            System.out.printf(<span class="string">"Caught it!"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>也可以为异常类定义一个接受字符串参数的构造器:</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyException</span> <span class="keyword">extends</span> <span class="title">Exception</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyException</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyException</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FullConstructors</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> <span class="keyword">throws</span> MyException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Throwing MyException form f()"</span>);</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> MyException();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">g</span><span class="params">()</span> <span class="keyword">throws</span> MyException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Throwing MyException from g()"</span>);</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> MyException(<span class="string">"Originated in g()"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            f();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (MyException e) &#123;</span><br><span class="line">            e.printStackTrace(System.out);<span class="comment">//信息发送到System.out，自动被捕获和显示在输出中；e.printStackTrace()会输出到标准错误流。</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            g();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (MyException e) &#123;</span><br><span class="line">            e.printStackTrace(System.out);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>异常记录日志:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LoggingException</span> <span class="keyword">extends</span> <span class="title">Exception</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Logger logger = Logger.getLogger(<span class="string">"LoggingException"</span>);</span><br><span class="line">    <span class="comment">//SEVERE（最高值） 严重信息</span></span><br><span class="line">    <span class="comment">//WARNING 警示信息</span></span><br><span class="line">    <span class="comment">//INFO 一般信息</span></span><br><span class="line">    <span class="comment">//CONFIG 配置信息</span></span><br><span class="line">    <span class="comment">//FINE 细微信息</span></span><br><span class="line">    <span class="comment">//FINER 更细微的信息</span></span><br><span class="line">    <span class="comment">//FINEST（最低值） 最细微的信息</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LoggingException</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        StringWriter trace = <span class="keyword">new</span> StringWriter();<span class="comment">//</span></span><br><span class="line">        printStackTrace(<span class="keyword">new</span> PrintWriter(trace));<span class="comment">//重载的printStackTrace接收PrintWriter对象为参数，通过toString()可以将输出抽取为字符串</span></span><br><span class="line">        logger.severe(trace.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LogginExceptions</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> LoggingException();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (LoggingException e) &#123;</span><br><span class="line">            System.err.println(<span class="string">"Caught "</span> + e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> LoggingException();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (LoggingException e) &#123;</span><br><span class="line">            System.err.println(<span class="string">"Caught "</span> + e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>更进一步自定义异常，加入额外的构造器和成员:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomerException</span>  <span class="keyword">extends</span> <span class="title">Exception</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> code;</span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CustomerException</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CustomerException</span><span class="params">(String message)</span></span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(message);</span><br><span class="line">        <span class="keyword">this</span>.message = message;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CustomerException</span><span class="params">(<span class="keyword">int</span> code, String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(message);</span><br><span class="line">        <span class="keyword">this</span>.message = message;</span><br><span class="line">        <span class="keyword">this</span>.code = code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMessage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> message;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>编译时被强制检查的异常称为被检查的异常</p>
</blockquote>
<p><strong>栈轨迹:</strong></p>
<p>printStackTrace()方法所提供的信息可以通过getStackTrace()直接访问，返回栈轨迹中的元素所构成的数组，每个元素代表栈中一帧。元素0是栈顶元素，是最后一个方法调用。</p>
<ul>
<li>重新抛出异常</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">catch(Exception)&#123;</span><br><span class="line"> System.out.println(&quot;An exception was thrown&quot;);</span><br><span class="line"> throw e;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>重新抛出获取异常，printStackTrace()方法显示的是原异常抛出点的调用栈信息，要想更新抛出点的信息，可以调用fillInStackTrace()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">try&#123;</span><br><span class="line">    //异常</span><br><span class="line">&#125; catch(Exception e)&#123;</span><br><span class="line">    throw (Exception)e.fillInStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面的行为也会更新抛出点的信息:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">    //异常</span><br><span class="line">&#125; catch (OneException one) &#123;</span><br><span class="line">   throw new TwoException();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>异常链</li>
</ul>
<p>捕获异常后，将原始信息一并打印出来，这就是异常链。<br>Throwable的子类在构造器中都可以接受一个cause对象作为参数，这个cause就是原始异常，通过cause实现把原始异常传递给新的异常。<br>在Throwable子类中，只有三种基本的异常类Error、Exception、及RuntimeException提供了带cause参数的构造器。如果要把其它类型链接起来应该使用initCause()方法而不是构造器实现。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">  //异常</span><br><span class="line">&#125;catch(NoSuchFieldException e)&#123;</span><br><span class="line">  throw new RuntimeException(e);</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">try &#123;</span><br><span class="line">  //异常</span><br><span class="line">&#125;catch(NoSuchFieldException e)&#123;</span><br><span class="line">  DynamicFieldsException dfe = new DynamicFieldsException();</span><br><span class="line">  dfe.initCause(e);</span><br><span class="line">  throw dfe;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li>java标准异常</li>
</ul>
<blockquote>
<p>Throwable可分为两种类型：Error-编译时和系统错误(一般不用关心)；Exception-基本异常类型(关心)<br>RuntimeException不会被编译器发现，其输出被报告给System.err;如果RuntimeException没有被捕获直达main（）</p>
</blockquote>
<ul>
<li>finally可用于释放内存之外的其他资源</li>
<li><p>finally总是会执行，即使方法有多个返回点，任可保证执行</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MultipleReturns</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Initialization that requires cleanup"</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"Point 1"</span>);</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">"Point 2"</span>);</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">2</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">"Point 3"</span>);</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">3</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">"End"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"Performing cleanup"</span>); <span class="comment">//都会执行</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">4</span>; i++) &#123;</span><br><span class="line">            f(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>派生类构造器不能捕获基类构造器抛出的异常</p>
</li>
<li>一个派生类继承父类并实现接口，如果父类有接口的实现，且方法在接口和父类中抛出不一样的异常，基类复写方法时不能抛出异常。</li>
<li>一个派生类继承抽象父类，如果抽象父类中抽象父类抛出指定异常，则派生类复写方法时只能抛出父类部分或全部指定异常。</li>
<li>异常处理系统会按照catch异常顺序匹配异常，异常的派生类也可以被异常基类捕获</li>
</ul>
<h4 id="4-字符串"><a href="#4-字符串" class="headerlink" title="4.字符串"></a>4.字符串</h4><ul>
<li>String类中每一个看起来会修改String值的方法，实际上都是创建了一个全新的对象，以包含修改后的字符串内容。而最初的String对象则丝毫未动。</li>
<li>用于String的 “+” 与 “+=” 是java中仅有的两个重载过的操作符，而java并不允许程序员重载任何操作符</li>
<li><p>格式化输出： <code>printf()</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrintfTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">float</span> y =  <span class="number">1.01f</span>;</span><br><span class="line">        System.out.printf(<span class="string">"row 1:[%d %f]"</span>, x, y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>格式化输出： <code>format()</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrintfTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">float</span> y =  <span class="number">1.01f</span>;</span><br><span class="line">        System.out.format(<span class="string">"row 1:[%d %f]"</span>, x, y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Formatter转换器<br><strong>格式：</strong><br>d====&gt;整数型(十进制)  e====&gt;浮点数(科学计数)<br>c====&gt;Unicode字符    x====&gt;整数(十六进制)<br>b====&gt;Boolean值      h====&gt;散列码(十六进制)<br>s====&gt;String         %====&gt;字符%<br>f====&gt;浮点数(十进制)</p>
</li>
</ul>
<p>实战如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Formatter f = new Formatter(System.out);</span><br><span class="line">char u = &apos;a&apos;;</span><br><span class="line">System.out.println(&quot;u = &apos;a&apos;&quot;);</span><br><span class="line">f.format(&quot;s: %s\n&quot;, u);</span><br><span class="line">f.format(&quot;c: %c\n&quot;, u);</span><br><span class="line">f.format(&quot;b: %b\n&quot;, u);</span><br><span class="line">f.format(&quot;h: %h\n&quot;, u);</span><br><span class="line"></span><br><span class="line">int v =121;</span><br><span class="line">System.out.println(&quot;v = 121&quot;);</span><br><span class="line">f.format(&quot;d: %d\n&quot;, v);</span><br><span class="line">f.format(&quot;c: %c\n&quot;, v);</span><br><span class="line">f.format(&quot;b: %b\n&quot;, v);</span><br><span class="line">f.format(&quot;s: %s\n&quot;, v);</span><br><span class="line">f.format(&quot;x: %x\n&quot;, v);</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p><code>String.format()</code>是static方法，接受与Formatter.format()方法一样的参数，但返回一个String对象，当只需用format()方法一次的时候使用比较方便</p>
</li>
<li><p>正则表达式<br>（1）匹配一个数字，可能有负号在前面：<code>-?</code><br>（2）正则表达式中，一位数字表示：<code>\d</code>，在java中是<code>\\d</code>，java中插入普通反斜线是<code>\\\\</code><br>（3）一个或多个之前的表达式：<code>+</code>，例如：可能有一个负号，后面跟着一位或多位数字，可以这样<code>-?\\d+</code><br>（4）通过String内置方法使用正则表达式：<code>&quot;-1234&quot;.matches(&quot;-?\\d+&quot;)</code><br>（5）可能以一个加号或减号开头<code>(-|\\+)?</code>，其中|为或者意思，因为+符号在正则有特殊意义，使用\转义变为普通符号<br>（6）String自带正则工具split()方法，将字符串从正则匹配的地方切开，<code>String.split(regex)</code>，例如：<code>split(\\W+)</code>从一个或多个非单词处切分，<code>\w</code>表示一个单词；<code>split(n\\W+)</code>从字母n后面跟着一个或多个单词的地方切分。<br>（7）String自带正则工具替换，<code>.replaceFirst(regex,str)</code>替换第一个匹配到的字符串，<code>.replaceAll(regex,str)</code></p>
</li>
<li>创建正则表达式</li>
</ul>
<p>——–字符——————<br>B==&gt;指定字符B<br>\xhh==&gt; 十六进制值为oxhh的字符串<br>\uhhhh==&gt; 十六进制值为oxhhhh字符<br>\t==&gt; 制表符tab<br>\n==&gt;换行符<br>\r==&gt;回车<br>\f==&gt;换页<br>\e==&gt;转义（Escape）  </p>
<p>——-字符类—————–<br>.==&gt;任意字符<br>[abc]==&gt;包含a、b和c的任何字符（和a|b|c作用相同）<br>[^abc]==&gt;除了a、b和c之外的任何字符<br>[a-zA-Z]==&gt;从a到z或从A到Z的任何字符<br>[abc[hij]]==&gt;任意a、b、c、h、i和j字符（同a|b|c|h|i|j）<br>[a-z&amp;&amp;[hij]]==&gt;从a到z和h、i、j取交集，结果为hij<br>\s==&gt;空白符（空格、tab、换行、换页和回车）<br>\S==&gt;非空白符（[^\s]）<br>\d==&gt;数字[0-9]<br>\D==&gt;非数字[^0-9]<br>\w==&gt;词字符[a-zA-Z0-9]<br>\W==&gt;非词字符[^\w]<br>——-逻辑操作符—————–<br>XY==&gt;Y跟在X后面<br>X|Y==&gt;X或Y<br>(X)==&gt;捕获组，可以在表达式中用\i引用第i个捕获组<br>——-边界匹配符—————–<br>^==&gt;一行的开始<br>$==&gt;一行的结束<br>\b==&gt;词的边界<br>\B==&gt;非词的边界<br>\G==&gt;前一个匹配的结束  </p>
<ul>
<li>量词<br>1.贪婪型<br>贪婪表达式会为所有可能的模式发现更多匹配<br>2.勉强型<br>用问号来指定，匹配满足模式所需的最少字符数<br>3.占有型</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">贪婪型</th>
<th style="text-align:center">勉强型</th>
<th style="text-align:center">占有型</th>
<th style="text-align:center">如何匹配</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">X?</td>
<td style="text-align:center">X??</td>
<td style="text-align:center">X?+</td>
<td style="text-align:center">一个或零个X</td>
</tr>
<tr>
<td style="text-align:center">X*</td>
<td style="text-align:center">X*?</td>
<td style="text-align:center">X*+</td>
<td style="text-align:center">零个或多个X</td>
</tr>
<tr>
<td style="text-align:center">X+</td>
<td style="text-align:center">X+?</td>
<td style="text-align:center">X++</td>
<td style="text-align:center">一个或多个X</td>
</tr>
<tr>
<td style="text-align:center">X{n}</td>
<td style="text-align:center">X{n}?</td>
<td style="text-align:center">X{n}+</td>
<td style="text-align:center">恰好n次</td>
</tr>
<tr>
<td style="text-align:center">X{n,}</td>
<td style="text-align:center">X{n,}?</td>
<td style="text-align:center">X{n,}+</td>
<td style="text-align:center">至少n次X</td>
</tr>
<tr>
<td style="text-align:center">X{n,m}</td>
<td style="text-align:center">X{n,m}?</td>
<td style="text-align:center">X{n,m}+</td>
<td style="text-align:center">至少n次，最多m次</td>
</tr>
</tbody>
</table>
<blockquote>
<p>note:    <code>abc+</code>代表匹配ab，后面跟1个或多个c；<code>(abc)+</code>代表匹配一个或多个abc</p>
</blockquote>
<ul>
<li>Pattern 和 Matcher</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//编译正则表达式字符串</span><br><span class="line">Pattern p = Pattern.compile(regx);</span><br><span class="line">//匹配目标字符串</span><br><span class="line">Matcher m = p.matcher(targetStr);</span><br><span class="line">//todo Matcher的方法</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Matcher对象的方法reset()，带参数时可以替换目标匹配字符串，不带参数重新设置到当前字符串序列的起始位置。</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      
      
      
      
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/编程思想/">编程思想</a></li></ul>

      

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->


  
    <article id="post-快捷键"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/07/22/快捷键/">快捷键</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/07/22/快捷键/" class="article-date">
	  <time datetime="2018-07-22T05:23:00.000Z" itemprop="datePublished">2018-07-22</time>
	</a>

      
    <a class="article-category-link" href="/categories/工具/">工具</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>mac、sublime 和 idea的一些快捷键可以大大加快我们的工作效率，特此mark一下，后续会不断更新完善。<br><a id="more"></a></p>
<p>——————- mac 快捷键———————<br>⌘ Command<br>⇧ Shift<br>⌥ Option<br>⌃ Control<br>↩︎ Return/Enter<br>⌫ Delete<br>⌦ 向前删除键（Fn+Delete）<br>↑ 上箭头<br>↓ 下箭头<br>← 左箭头<br>→ 右箭头<br>⇞ Page Up（Fn+↑）<br>⇟ Page Down（Fn+↓）<br>Home Fn + ←<br>End Fn + →<br>⇥ 右制表符（Tab键）<br>⇤ 左制表符（Shift+Tab）<br>⎋ Escape (Esc)<br>control + alt/option + space bar 切换下一个输入法<br>control + space bar 切换最近的一次输入法<br>command + ←/→  光标定位到行首或行尾部<br>option + ←/→ 光标定位到上一个或下一个单词  </p>
<p>———————sublime————————  </p>
<p>sublime多行<br>下面就来看下具体的五种方式吧：<br>1，鼠标选中多行，按下 Ctrl Shift L (Command Shift L) 即可同时编辑这些行；<br>2，鼠标选中文本，反复按 CTRL D (Command D) 即可继续向下同时选中下一个相同的文本进行同时编辑；<br>3，鼠标选中文本，按下 Alt F3 (Win) 或 Ctrl Command G(Mac) 即可一次性选择全部的相同文本进行同时编辑；<br>4，Shift 鼠标右键 (Win) 或 Option 鼠标左键 (Mac) 或使用鼠标中键可以用鼠标进行竖向多行选择；<br>5，Ctrl 鼠标左键(Win) 或 Command 鼠标左键(Mac) 可以手动选择同时要编辑。</p>
<p>———————-idea 常用但常忘记快捷键———————–<br>Command + Shift + Delete 跳转到最后一个编辑的地方<br>Option + Enter 显示意向动作和快速修复代码<br>Option + Command + o   自动删除无效包<br>Command + Shift + ↑/↓ 向上或向下移动代码<br>Option + Command + Enter 当前光标处代码下移并插入新行且光标定位新行<br>———————-idea快捷————————————<br>一、Editing（编辑）<br>Option/Alt + F7 查看方法在哪些地方被调用<br>Control + Space 基本的代码补全（补全任何类、方法、变量）<br>Control + Shift + Space 智能代码补全（过滤器方法列表和变量的预期类型）<br>Command + Option/Shift + 上下方向键 向上或向下移动代码<br>Command + Shift + Enter 自动结束代码，行末自动添加分号<br>Command + P 显示方法的参数信息<br>Control + J 快速查看文档<br>Shift + F1 查看外部文档（在某些代码上会触发打开浏览器显示相关文档）<br>Command + 鼠标放在代码上 显示代码简要信息<br>Command + F1 在错误或警告处显示具体描述信息<br>Command + N” Control + Enter” Control + N 生成代码（getter、setter、构造函数、hashCode/equals”toString）<br>Control + O 覆盖方法（重写父类方法）<br>Command/Control + I 实现方法（实现接口中的方法）<br>Command + Option + T 包围代码（使用if..else” try..catch” for” synchronized等包围选中的代码）<br>Command + / 注释/取消注释与行注释<br>Command + Option + / 注释/取消注释与块注释<br>Option/Shift + 方向键上 连续选中代码块<br>Option/Shift + 方向键下 减少当前选中的代码块<br>Control + Shift + Q 显示上下文信息<br>Option + Enter 显示意向动作和快速修复代码<br>Command + Option + L 格式化代码<br>Control + Option + O 优化import<br>Control + Option + I 自动缩进线<br>Tab / Shift + Tab 缩进代码 / 反缩进代码<br>Command + X 剪切当前行或选定的块到剪贴板<br>Command + C 复制当前行或选定的块到剪贴板<br>Command + V 从剪贴板粘贴<br>Command + Shift + V 从最近的缓冲区粘贴<br>Command + D 复制当前行或选定的块<br>Command + Y/Delete 删除当前行或选定的块的行<br>Control + Shift + J 智能的将代码拼接成一行<br>Command + Enter 智能的拆分拼接的行<br>Shift + Enter 开始新的一行<br>Command + Shift + U 大小写切换<br>Command + Shift + ] / Command + Shift + [ 选择直到代码块结束/开始<br>Option + Fn + Delete 删除到单词的末尾<br>Option + Delete 删除到单词的开头<br>Command + 加号 / Command + 减号 展开 / 折叠代码块<br>Command + Shift + 加号 展开所以代码块<br>Command + Shift + 减号 折叠所有代码块<br>Command + W 关闭活动的编辑器选项卡<br>二、Search/Replace（查询/替换）<br>Double Shift 查询任何东西<br>Command + F 文件内查找<br>Command + G 查找模式下，向下查找<br>Command + Shift + G 查找模式下，向上查找<br>Command + R 文件内替换<br>Command + Shift + F 全局查找（根据路径）<br>Command + Shift + R 全局替换（根据路径）<br>Command + Shift + S 查询结构（Ultimate Edition 版专用，需要在Keymap中设置）<br>Command + Shift + M 替换结构（Ultimate Edition 版专用，需要在Keymap中设置）<br>三、Usage Search（使用查询）<br>Option + F7 / Command + F7 在文件中查找用法 / 在类中查找用法<br>Command + Shift + F7 在文件中突出显示的用法<br>Command + Option + F7 显示用法<br>四、Compile and Run（编译和运行）<br>Command + F9 编译Project<br>Command + Shift + F9 编译选择的文件、包或模块<br>Control + Option + R 弹出 Run 的可选择菜单<br>Control + Option + D 弹出 Debug 的可选择菜单<br>Control + R 运行<br>Control + D 调试<br>Control + Shift + R” Control + Shift + D 从编辑器运行上下文环境配置<br>五、Debugging（调试）<br>F8 进入下一步，如果当前行断点是一个方法，则不进入当前方法体内<br>F7 进入下一步，如果当前行断点是一个方法，则进入当前方法体内，如果该方法体还有方法，则不会进入该内嵌的方法中<br>Shift + F7 智能步入，断点所在行上有多个方法调用，会弹出进入哪个方法<br>Shift + F8 跳出<br>Option + F9 运行到光标处，如果光标前有其他断点会进入到该断点<br>Option + F8 计算表达式（可以更改变量值使其生效）<br>Command + Option + R 恢复程序运行，如果该断点下面代码还有断点则停在下一个断点上<br>Command + F8 切换断点（若光标当前行有断点则取消断点，没有则加上断点）<br>Command + Shift + F8 查看断点信息<br>六、Navigation（导航）<br>Command + O 查找类文件<br>Command + Shift + O 查找所有类型文件、打开文件、打开目录，打开目录需要在输入的内容前面或后面加一个反斜杠/<br>Command + Option + O 前往指定的变量 / 方法<br>Control + 方向键左 / Control + 方向键右 左右切换打开的编辑tab页<br>F12 返回到前一个工具窗口<br>Esc 从工具窗口进入代码文件窗口<br>Shift + Esc 隐藏当前或最后一个活动的窗口，且光标进入代码文件窗口<br>Command + Shift + F4 关闭活动run/messages/find/… tab<br>Command + L 在当前文件跳转到某一行的指定处<br>Command + E 显示最近打开的文件记录列表<br>Option + 方向键左 / Option + 方向键右 光标跳转到当前单词 / 中文句的左 / 右侧开头位置<br>Command + Option + 方向键左 / Command + Option + 方向键右 退回 / 前进到上一个操作的地方<br>Command + Shift + Delete 跳转到最后一个编辑的地方<br>Option + F1 显示当前文件选择目标弹出层，弹出层中有很多目标可以进行选择(如在代码编辑窗口可以选择显示该文件的Finder)<br>Command + B / Command + 鼠标点击 进入光标所在的方法/变量的接口或是定义处<br>Command + Option + B 跳转到实现处，在某个调用的方法名上使用会跳到具体的实现处，可以跳过接口<br>Option + Space” Command + Y 快速打开光标所在方法、类的定义<br>Control + Shift + B 跳转到类型声明处<br>Command + U 前往当前光标所在方法的父类的方法 / 接口定义<br>Control + 方向键下 / Control + 方向键上 当前光标跳转到当前文件的前一个/后一个方法名位置<br>Command + ] / Command + [ 移动光标到当前所在代码的花括号开始/结束位置<br>Command + F12 弹出当前文件结构层，可以在弹出的层上直接输入进行筛选（可用于搜索类中的方法）<br>Control + H 显示当前类的层次结构<br>Command + Shift + H 显示方法层次结构<br>Control + Option + H 显示调用层次结构<br>F2 / Shift + F2 跳转到下一个/上一个突出错误或警告的位置<br>F4 / Command + 方向键下 编辑/查看代码源<br>Option + Home 显示到当前文件的导航条<br>F3选中文件/文件夹/代码行，添加/取消书签<br>Option + F3 选中文件/文件夹/代码行，使用助记符添加/取消书签<br>Control + 0…Control + 9 定位到对应数值的书签位置<br>Command + F3 显示所有书签<br>七、Refactoring（重构）<br>F5 复制文件到指定目录<br>F6 移动文件到指定目录<br>Command + Delete 在文件上为安全删除文件，弹出确认框<br>Shift + F6 重命名文件<br>Command + F6 更改签名<br>Command + Option + N 一致性<br>Command + Option + M 将选中的代码提取为方法<br>Command + Option + V 提取变量<br>Command + Option + F 提取字段<br>Command + Option + C 提取常量<br>Command + Option + P 提取参数<br>八、VCS/Local History（版本控制/本地历史记录）<br>Command + K 提交代码到版本控制器<br>Command + T 从版本控制器更新代码<br>Option + Shift + C 查看最近的变更记录<br>Control + C 快速弹出版本控制器操作面板<br>九、Live Templates（动态代码模板）<br>Command + Option + J 弹出模板选择窗口，将选定的代码使用动态模板包住<br>Command + J 插入自定义动态代码模板<br>十、General（通用）<br>Command + 1…Command + 9 打开相应编号的工具窗口<br>Command + S 保存所有<br>Command + Option + Y 同步、刷新<br>Control + Command + F 切换全屏模式<br>Command + Shift + F12 切换最大化编辑器<br>Option + Shift + F 添加到收藏夹<br>Option + Shift + I 检查当前文件与当前的配置文件<br>Control + ` 快速切换当前的scheme（切换主题、代码样式等）<br>Command + “ 打开IDEA系统设置<br>Command + ; 打开项目结构对话框<br>Shift + Command + A 查找动作（可设置相关选项）<br>Control + Shift + Tab 编辑窗口标签和工具窗口之间切换（如果在切换的过程加按上delete，则是关闭对应选中的窗口）<br>十一、Other（一些官方文档上没有体现的快捷键）<br>Command + Shift +8 竖编辑模式</p>

      
    </div>
    <footer class="article-footer">
      
      
      
      
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/快捷键/">快捷键</a></li></ul>

      

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->


  
    <article id="post-java编程思想-1"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/06/06/java编程思想-1/">java编程思想[1-9]</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/06/06/java编程思想-1/" class="article-date">
	  <time datetime="2018-06-05T16:00:00.000Z" itemprop="datePublished">2018-06-06</time>
	</a>

      
    <a class="article-category-link" href="/categories/java/">java</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近看java编程思想，对看过的前1-9章一些似懂非懂的知识点做个记录吧。<br><a id="more"></a></p>
<h4 id="1-”是一个”与”像是一个”的关系"><a href="#1-”是一个”与”像是一个”的关系" class="headerlink" title="1.”是一个”与”像是一个”的关系"></a>1.”是一个”与”像是一个”的关系</h4><ul>
<li>导出类只覆盖基类的方法，导出类和基类是完全相同的类型，基类和导出类的关系是一个关系。</li>
<li>导出类添加新的接口元素，基类无法访问导出类的新接口元素，基类和导出类之间的关系是”像是一个的关系”</li>
</ul>
<h4 id="2-伴随多态的可互换对象"><a href="#2-伴随多态的可互换对象" class="headerlink" title="2.伴随多态的可互换对象"></a>2.伴随多态的可互换对象</h4><ul>
<li>伴随多态的可互换对象基于面向对象程序设计语言采用了后期绑定的概念。当向对象发送消息时，被调用的代码在运行时才能确定。</li>
</ul>
<h4 id="3-为什么支持多种类型容器"><a href="#3-为什么支持多种类型容器" class="headerlink" title="3.为什么支持多种类型容器"></a>3.为什么支持多种类型容器</h4><p> 容器持有其它对象的引用，设计多种容器类型原因如下：</p>
<ul>
<li>不同容器提供不同的接口和行为</li>
<li>不同容器对某些操作的效率不同</li>
</ul>
<h4 id="4-对象和其它变量存储空间、生命周期"><a href="#4-对象和其它变量存储空间、生命周期" class="headerlink" title="4.对象和其它变量存储空间、生命周期"></a>4.对象和其它变量存储空间、生命周期</h4><ul>
<li>普通变量存在在堆栈，在编译阶段就会确定变量的存储空间地址和生命周期；对象存在堆（heap），在运行阶段动态分配存储空间，对象的生命周期取决是否被引用，且通过java垃圾回收机制回收。</li>
</ul>
<h4 id="5-异常处理不是面向对象的特征。"><a href="#5-异常处理不是面向对象的特征。" class="headerlink" title="5.异常处理不是面向对象的特征。"></a>5.异常处理不是面向对象的特征。</h4><h4 id="6-java基本类型"><a href="#6-java基本类型" class="headerlink" title="6.java基本类型"></a>6.java基本类型</h4><ul>
<li>boolean、char、byte、short、int、long、float、double、void</li>
<li>基本类型所占存储空间不随机器硬件架构的变化而变化</li>
<li>boolean类型没有明确指定存储空间大小，仅定义为能够取字面值true&amp;false</li>
</ul>
<h4 id="7-BigInteger-amp-BigDecimal"><a href="#7-BigInteger-amp-BigDecimal" class="headerlink" title="7. BigInteger&amp;BigDecimal"></a>7. BigInteger&amp;BigDecimal</h4><ul>
<li>高精度计算类，虽然属于包装类却没有对应的基本类型。高精度计算类操作复杂，运算速度相当较慢。</li>
</ul>
<h4 id="8-java数组对比C和C"><a href="#8-java数组对比C和C" class="headerlink" title="8.java数组对比C和C++"></a>8.java数组对比C和C++</h4><ul>
<li>java有范围检查，要求数组必须进行初始化且不超出范围，牺牲了少量内存开销换来安全性和效率的提升。</li>
</ul>
<h4 id="9-java类中基本类型成员会自动初始化，但局部变量并不会-非某个类的字段"><a href="#9-java类中基本类型成员会自动初始化，但局部变量并不会-非某个类的字段" class="headerlink" title="9. java类中基本类型成员会自动初始化，但局部变量并不会(非某个类的字段)"></a>9. java类中基本类型成员会自动初始化，但局部变量并不会(非某个类的字段)</h4><ul>
<li>boolean==&gt;false</li>
<li>char==&gt;null</li>
<li>byte==&gt;(byte)0</li>
<li>short==&gt;(short)0</li>
<li>int==&gt;0</li>
<li>long==&gt;oL</li>
<li>float==&gt;0.0L</li>
<li>double==&gt;0.0D</li>
</ul>
<h4 id="10-方法签名（方法名和参数列表）唯一标识某个方法"><a href="#10-方法签名（方法名和参数列表）唯一标识某个方法" class="headerlink" title="10.方法签名（方法名和参数列表）唯一标识某个方法"></a>10.方法签名（方法名和参数列表）唯一标识某个方法</h4><h4 id="11-static方法牧羊人角色-创建或使用同类型的被命名对象"><a href="#11-static方法牧羊人角色-创建或使用同类型的被命名对象" class="headerlink" title="11.static方法牧羊人角色-创建或使用同类型的被命名对象"></a>11.static方法牧羊人角色-创建或使用同类型的被命名对象</h4><h4 id="12-java-lang默认导入到每个java文件中"><a href="#12-java-lang默认导入到每个java文件中" class="headerlink" title="12.java.lang默认导入到每个java文件中"></a>12.java.lang默认导入到每个java文件中</h4><h4 id="13-文档注释"><a href="#13-文档注释" class="headerlink" title="13.文档注释"></a>13.文档注释</h4><ul>
<li><code>/*comment*/</code>  整段注释</li>
<li><code>//</code> 行注释</li>
</ul>
<h4 id="14-javadoc命令只能出现在-中，可嵌入html"><a href="#14-javadoc命令只能出现在-中，可嵌入html" class="headerlink" title="14.javadoc命令只能出现在/**中，可嵌入html"></a>14.javadoc命令只能出现在/**中，可嵌入html</h4><ul>
<li>@see: 引用其他类</li>
<li>@link: 与@see类似，但是属于行内引用，{@link package.class#member label}</li>
<li>@{@docRoot}</li>
<li>@{inheritDoc}</li>
<li>@version</li>
<li>@author</li>
<li>@since</li>
<li>@param</li>
<li>@return</li>
<li>@throws</li>
<li>@deprecated</li>
</ul>
<h4 id="15-几乎所有操作类型只能操作基本类型，例外的操作符是“-”，“-”，“-”可以操作所有对象"><a href="#15-几乎所有操作类型只能操作基本类型，例外的操作符是“-”，“-”，“-”可以操作所有对象" class="headerlink" title="15.几乎所有操作类型只能操作基本类型，例外的操作符是“=”，“!=”，“==”可以操作所有对象"></a>15.几乎所有操作类型只能操作基本类型，例外的操作符是“=”，“!=”，“==”可以操作所有对象</h4><h4 id="16-随机数的生成"><a href="#16-随机数的生成" class="headerlink" title="16.随机数的生成"></a>16.随机数的生成</h4><p><strong>Random rand = new Random():</strong><br>若创建时不输入构造参数，每一轮执行第n次rand.nextInt(100)的结果都不同；<br>若创建时输入构造参数，每一轮执行第n次rand.nextInt(100)的结构都相同。</p>
<h4 id="17-对象的等价性"><a href="#17-对象的等价性" class="headerlink" title="17.对象的等价性"></a>17.对象的等价性</h4><ul>
<li>基本类型判断等价性使用==和!=；比较其他对象的等价性使用每个对象都有的equals方法。</li>
</ul>
<h4 id="18-指数计数法"><a href="#18-指数计数法" class="headerlink" title="18.指数计数法"></a>18.指数计数法</h4><p><code>float flt = 1.36e-19f</code><br>等价于如下计算:<br><code>flt = 1.36*10^(-19)</code></p>
<h4 id="19-java位运算"><a href="#19-java位运算" class="headerlink" title="19.java位运算"></a>19.java位运算</h4><ul>
<li>在计算机中所有数据都是以二进制的形式储存的。位运算其实就是直接对在内存中的二进制数据进行操作，因此处理数据的速度非常快。</li>
<li>基本的位操作符有与、或、异或、取反、左移、右移这6种，它们的运算规则如下所示：<br>| 符号 | 描述 | 运算规则 |<br>| :-: | :-: | :-: |<br>| &amp; | 与 | 两个位都为1时结果才为1 |<br>| | | 或 | 两个位都为0时才为0 |<br>| ^ | 异或 | 两个位相同时为0，相异时为1 |<br>| ~ | 取反 | 1变0，0变1 |<br>| &lt;&lt; | 左移 | 各二进位全部左移若干位，高位丢弃，低位补 0；num &lt;&lt; 1”相当于num乘以2|<br>| &gt;&gt; | 有符号右移 | 各二进位全部右移若干位，对无符号数，高位补 0，有符号数，各编译器处理方法不一样，有的补符号位(算术右移，java采用)，有的补 0 (逻辑右移)；num &gt;&gt; 1”相当于num除以2|<br>| &gt;&gt;&gt; | 无符号右移 | 无论正负都在高位补0|</li>
<li>计算机中采用补码的形式进行二进制运算；正数的原码、反码和补码都一样；负数的反码，对应正数二进制表示所有位取反；负数的补码等于反码</li>
</ul>
<h4 id="20-java类型转换，扩展转换是自动的，窄化转换是强制的，而且数值窄化转换会强制截尾（Math-round-x-可实现四舍五入）"><a href="#20-java类型转换，扩展转换是自动的，窄化转换是强制的，而且数值窄化转换会强制截尾（Math-round-x-可实现四舍五入）" class="headerlink" title="20.java类型转换，扩展转换是自动的，窄化转换是强制的，而且数值窄化转换会强制截尾（Math.round(x)可实现四舍五入）"></a>20.java类型转换，扩展转换是自动的，窄化转换是强制的，而且数值窄化转换会强制截尾（Math.round(x)可实现四舍五入）</h4><h4 id="21-while-x-y-除非x和y都是boolean类型，否则编译报错"><a href="#21-while-x-y-除非x和y都是boolean类型，否则编译报错" class="headerlink" title="21. while(x=y)除非x和y都是boolean类型，否则编译报错"></a>21. while(x=y)除非x和y都是boolean类型，否则编译报错</h4><h4 id="22-void方法中有隐含的return，另外return会退出当前方法"><a href="#22-void方法中有隐含的return，另外return会退出当前方法" class="headerlink" title="22. void方法中有隐含的return，另外return会退出当前方法"></a>22. void方法中有隐含的return，另外return会退出当前方法</h4><h4 id="23-break-lable和continue-lable的区别"><a href="#23-break-lable和continue-lable的区别" class="headerlink" title="23. break lable和continue lable的区别"></a>23. break lable和continue lable的区别</h4><ul>
<li>嵌套循环，内循环内执行continue label会跳到外循环外label1并重新进入循环，break label则不会重新进入循环</li>
</ul>
<h4 id="24-多个构造器也是方法重载的使用"><a href="#24-多个构造器也是方法重载的使用" class="headerlink" title="24.多个构造器也是方法重载的使用"></a>24.多个构造器也是方法重载的使用</h4><h4 id="25-this代表调用方法的那个对象，会隐式的作为方法的第一个参数传过去，并通过this进行引用"><a href="#25-this代表调用方法的那个对象，会隐式的作为方法的第一个参数传过去，并通过this进行引用" class="headerlink" title="25. this代表调用方法的那个对象，会隐式的作为方法的第一个参数传过去，并通过this进行引用"></a>25. this代表调用方法的那个对象，会隐式的作为方法的第一个参数传过去，并通过this进行引用</h4><h4 id="26-构造器中调用构造器，可用this-参数列表-且必须放第一行且只能通过该形式调用一次"><a href="#26-构造器中调用构造器，可用this-参数列表-且必须放第一行且只能通过该形式调用一次" class="headerlink" title="26. 构造器中调用构造器，可用this(参数列表)且必须放第一行且只能通过该形式调用一次"></a>26. 构造器中调用构造器，可用this(参数列表)且必须放第一行且只能通过该形式调用一次</h4><h4 id="27-static的含义"><a href="#27-static的含义" class="headerlink" title="27. static的含义"></a>27. static的含义</h4><ul>
<li>static的方法没有隐含this参数</li>
<li>static的方法不能调用非static的方法，反之可以</li>
</ul>
<h4 id="28-finalize-用法"><a href="#28-finalize-用法" class="headerlink" title="28. finalize()用法"></a>28. finalize()用法</h4><ul>
<li>在类中定义一个finalize()，在垃圾回收器准备回收对象时会首先调用该函数</li>
<li>java中调用了非java的代码开辟了存储空间，需要finalize()中释放空间</li>
<li>通常不能指望finalize()，必须创建其它的清理方法</li>
</ul>
<h4 id="29-类的数据成员如果是基本类型会被自动初始化为默认值"><a href="#29-类的数据成员如果是基本类型会被自动初始化为默认值" class="headerlink" title="29. 类的数据成员如果是基本类型会被自动初始化为默认值"></a>29. 类的数据成员如果是基本类型会被自动初始化为默认值</h4><h4 id="30-类成员初始化顺序依次"><a href="#30-类成员初始化顺序依次" class="headerlink" title="30. 类成员初始化顺序依次"></a>30. 类成员初始化顺序依次</h4><ul>
<li>基类构造器 &gt;（静态变量、静态初始化块）&gt;（变量、初始化块）&gt; 导出类构造器</li>
</ul>
<h4 id="31-对象创建过程及成员初始化"><a href="#31-对象创建过程及成员初始化" class="headerlink" title="31. 对象创建过程及成员初始化"></a>31. 对象创建过程及成员初始化</h4><p><strong>假设有个名为Dog的类</strong></p>
<ol>
<li>即使没有显式地使用static关键字，构造器实际上也是静态方法。因此，当首次创建类型为Dog的对象时，<br>或者Dog类的静态方法/静态域首次被访问时，java解释器必须查找类路径，以定位Dog.class文件</li>
<li>然后载入Dog.class(会创建Class对象)，有关静态初始化的所有动作都会执行。因此，静态初始化只在Class<br>对象首次加载的时候执行一次。</li>
<li>当用new Dog()创建对象的时候，首先将在堆上为Dog对象分配足够的存储空间。</li>
<li>这块存储空间会被清零，这就自动地将Dog对象中所有基本类型设置成默认值。(数字、字符、布尔为0，引用为null)</li>
<li>执行所有出现于字段定义处的初始化动作。</li>
<li>执行构造器</li>
</ol>
<h4 id="32-数组初始化"><a href="#32-数组初始化" class="headerlink" title="32. 数组初始化"></a>32. 数组初始化</h4><ul>
<li><code>int[] a1 = {1&quot;2&quot;3&quot;4&quot;5}</code></li>
<li><code>int a2 [] = new int[]{20&quot;21&quot;22}</code></li>
<li><code>int a3 = new int[5]</code>，随后进行初始化</li>
</ul>
<h4 id="33-可变参数列表"><a href="#33-可变参数列表" class="headerlink" title="33. 可变参数列表"></a>33. 可变参数列表</h4><ul>
<li>void test(Object… objs)，objs会根据输入的参数创建数组。</li>
</ul>
<h4 id="34-enum枚举类型可以结合switch语句使用"><a href="#34-enum枚举类型可以结合switch语句使用" class="headerlink" title="34.enum枚举类型可以结合switch语句使用"></a>34.enum枚举类型可以结合switch语句使用</h4><h4 id="35-一个java源代码文件有且只能有一个public类"><a href="#35-一个java源代码文件有且只能有一个public类" class="headerlink" title="35.一个java源代码文件有且只能有一个public类"></a>35.一个java源代码文件有且只能有一个public类</h4><h4 id="36-package语言必须出现在除注释外的第一行"><a href="#36-package语言必须出现在除注释外的第一行" class="headerlink" title="36.package语言必须出现在除注释外的第一行"></a>36.package语言必须出现在除注释外的第一行</h4><h4 id="37-java类中不指定package，会使用默认包"><a href="#37-java类中不指定package，会使用默认包" class="headerlink" title="37.java类中不指定package，会使用默认包"></a>37.java类中不指定package，会使用默认包</h4><h4 id="38-运行java-类名会自动运行该类下的main方法"><a href="#38-运行java-类名会自动运行该类下的main方法" class="headerlink" title="38.运行java 类名会自动运行该类下的main方法"></a>38.运行java 类名会自动运行该类下的main方法</h4><h4 id="39-继承类的构造过程是从内向外，先调用基类构造器后调用导出类构造器"><a href="#39-继承类的构造过程是从内向外，先调用基类构造器后调用导出类构造器" class="headerlink" title="39.继承类的构造过程是从内向外，先调用基类构造器后调用导出类构造器"></a>39.继承类的构造过程是从内向外，先调用基类构造器后调用导出类构造器</h4><h4 id="40-子类调用父类带参构造器使用super"><a href="#40-子类调用父类带参构造器使用super" class="headerlink" title="40.子类调用父类带参构造器使用super"></a>40.子类调用父类带参构造器使用super</h4><h4 id="41-复用类之组合、继承、代理"><a href="#41-复用类之组合、继承、代理" class="headerlink" title="41.复用类之组合、继承、代理"></a>41.复用类之组合、继承、代理</h4><ul>
<li>代理的实质是通过创建一个代理类去，并将代理对象作为初始化成员属性通过自身方法调用目标对象的方法，是对目标方法的再次包装</li>
</ul>
<h4 id="42-导出类可以向上自动转型为基类类型"><a href="#42-导出类可以向上自动转型为基类类型" class="headerlink" title="42.导出类可以向上自动转型为基类类型"></a>42.导出类可以向上自动转型为基类类型</h4><h4 id="43-继承or组合"><a href="#43-继承or组合" class="headerlink" title="43.继承or组合"></a>43.继承or组合</h4><ul>
<li>继承当慎用，使用组合还是继承判断标准是:是否需要向上转型，若需要则使用继承</li>
</ul>
<h4 id="44-final相关"><a href="#44-final相关" class="headerlink" title="44.final相关"></a>44.final相关</h4><ul>
<li>final标注的类型必须初始化</li>
<li>分配固定的存储空间，基本类型值不变，引用类型引用地址不变</li>
<li>基本类型且不是随机数属于编译期常量</li>
<li>基本类型且属于随机数、对象等引用类型在运行时才能确定，运行时常量</li>
<li>对数组等引用类型使用final意义不大</li>
<li>final标注类型初始化可发生在使用之前，如在构造函数中进行初始化</li>
<li>final标注的方法，可以防止被重写，而是提高效率(编译时动态绑定)</li>
<li>final标注的类不能被继承，类的方法隐式的指定为final，显示的添加final无意义</li>
<li>java中除了static方法和final方法(private方法属于final方法)，其它所有方法都是后期绑定</li>
</ul>
<h4 id="45-域和静态方法"><a href="#45-域和静态方法" class="headerlink" title="45.域和静态方法"></a>45.域和静态方法</h4><ul>
<li>普通方法才具有多态性，直接访问的域则是在编译期进行解析，如下：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">public class FieldAccess &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Super sup = new Sub();</span><br><span class="line">        System.out.println(&quot;sup.field=&quot; + sup.field + &quot;;sup.getField()=&quot; + sup.getField());</span><br><span class="line">        Sub sub = new Sub();</span><br><span class="line">        System.out.println(&quot;sub.field=&quot; + sub.field + &quot;;sub.getField()=&quot; + sub.getField() + &quot;;sub.getSuperField()=&quot; + sub.getSuperField());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Super &#123;</span><br><span class="line">    public int field = 0;</span><br><span class="line"></span><br><span class="line">    public int getField() &#123;</span><br><span class="line">        return field;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Sub extends Super &#123;</span><br><span class="line">    public int field = 1;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public int getField() &#123;</span><br><span class="line">        return field;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int getSuperField() &#123;</span><br><span class="line">        return super.field;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>基类中的域和导出类中的域尽量不要起相同的名字</li>
<li>静态方法是不具有多态性的，静态方法是和类而非对象进行关联的</li>
</ul>
<h4 id="46-构造器是隐式的static"><a href="#46-构造器是隐式的static" class="headerlink" title="46.构造器是隐式的static"></a>46.构造器是隐式的static</h4><h4 id="47-抽象类和抽象方法"><a href="#47-抽象类和抽象方法" class="headerlink" title="47.抽象类和抽象方法"></a>47.抽象类和抽象方法</h4><ul>
<li>包含抽象方法的类为抽象类</li>
<li>一个类中包含一个或多个抽象方法，必须被声明为抽象类</li>
<li>导出类继承抽象类，要么实现抽象类中的抽象方法，要么声明为抽象类</li>
</ul>
<h4 id="48-接口相关"><a href="#48-接口相关" class="headerlink" title="48.接口相关"></a>48.接口相关</h4><ul>
<li>接口中的任何域都是static和final的，初始化可以发生在编译阶段和运行阶段</li>
<li>接口只有public和默认(包访问权限)两种权限</li>
<li>接口中的元素的都是public的</li>
<li>接口实现工厂方法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">interface Service &#123;</span><br><span class="line">    void method1();</span><br><span class="line"></span><br><span class="line">    void method2();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface ServiceFactory &#123;</span><br><span class="line">    Service getService();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Implementation1 implements Service &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void method1() &#123;</span><br><span class="line">        System.out.println(&quot;Implementation1:method1&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void method2() &#123;</span><br><span class="line">        System.out.println(&quot;Implementation1:method2&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Implementation1Factory implements ServiceFactory &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public Service getService() &#123;</span><br><span class="line">        return new Implementation1();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Implementation2 implements Service &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void method1() &#123;</span><br><span class="line">        System.out.println(&quot;Implemention2:method1&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void method2() &#123;</span><br><span class="line">        System.out.println(&quot;Implemention2:method2&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Implementation2Factory implements ServiceFactory &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public Service getService() &#123;</span><br><span class="line">        return new Implementation2();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public class FactoriesPrice &#123;</span><br><span class="line">    public static void serviceConsumer(ServiceFactory factory) &#123;</span><br><span class="line">        Service s = factory.getService();</span><br><span class="line">        s.method1();</span><br><span class="line">        s.method2();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        serviceConsumer(new Implementation1Factory());</span><br><span class="line">        serviceConsumer(new Implementation2Factory());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      
      
      
      
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/编程思想/">编程思想</a></li></ul>

      

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->


  
    <article id="post-博客添加订阅"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/05/15/博客添加订阅/">博客添加订阅</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/05/15/博客添加订阅/" class="article-date">
	  <time datetime="2018-05-15T03:29:57.000Z" itemprop="datePublished">2018-05-15</time>
	</a>

      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>下载的主题中包含Rss订阅页签，但发现实际不可用，搜索资料动手完善了下订阅功能。<br><a id="more"></a><br><strong>步骤如下：</strong></p>
<ul>
<li>博客根目录下执行<code>npm install hexo-generator-feed --save</code></li>
<li><p>编辑博客根目录下<code>_config.yml</code>文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">## RSS订阅添加</span><br><span class="line">plugin:</span><br><span class="line">- hexo-generator-feed</span><br><span class="line">#Feed Atom</span><br><span class="line">feed:</span><br><span class="line">  type: atom</span><br><span class="line">  path: atom.xml</span><br><span class="line">  limit: 20</span><br><span class="line">## RSS订阅添加</span><br></pre></td></tr></table></figure>
</li>
<li><p>编辑主题下的<code>_config.yml</code>文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">## RSS订阅</span><br><span class="line">subnav:</span><br><span class="line">  rss: &quot;/atom.xml&quot;</span><br><span class="line">## RSS订阅</span><br></pre></td></tr></table></figure>
</li>
<li><p>重用编译发布博客</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      
      
      
      
        
      

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->


  
    <article id="post-P2P、P2C、O2O、B2C、B2B、C2C"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/05/14/P2P、P2C、O2O、B2C、B2B、C2C/">P2P、P2C、O2O、B2C、B2B、C2C</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/05/14/P2P、P2C、O2O、B2C、B2B、C2C/" class="article-date">
	  <time datetime="2018-05-14T06:07:00.000Z" itemprop="datePublished">2018-05-14</time>
	</a>

      
    <a class="article-category-link" href="/categories/名词解释/">名词解释</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>相信大家或多或少听说过P2P、P2C、O2O、B2C、B2B、C2C，但当人向你问起这些名词的含义时，你可能会欲言又止。下面会对这些常见的名词进行解释。<br><a id="more"></a></p>
<h4 id="P2P"><a href="#P2P" class="headerlink" title="P2P"></a>P2P</h4><p>P2P借贷是一种将非常小额度的资金聚集起来借贷给有资金需求人群的一种民间小额借贷模式。P2P是“Peer-to-Peer”的简写，个人对个人的意思，P2P借贷指个人通过第三方平台(P2P公司)在收取一定服务费用的前提下向其他个人提供小额借贷的金融模式。<br><strong>P2P模式</strong><br>第一种是纯线上模式，是纯粹的P2P，在这种平台模式上纯粹进行信息匹配，帮助资金借贷双方更好的进行资金匹配，但缺点明显，这种线上模式并不参与担保；<br>第二种是债权转让模式，平台本身先行放贷，再将债权放到平台进行转让，很明显能让企业提高融资端的工作效率，但容易出现资金池，不能让资金充分发挥效益；</p>
<p>个人理解：手里有些闲钱且想进行理财的人通过平台借给需要借钱的人，P2P公司在中间起的作用是资金兑付，信息匹配，风险控制。</p>
<h4 id="O2O"><a href="#O2O" class="headerlink" title="O2O"></a>O2O</h4><p>O2O是目前微信二维码营销的超火概念，即Online To Offline，也即将线下商务的机会与互联网结合在了一起，让互联网成为线下交易的前台。<br>这样线下服务就可以用线上来揽客，消费者可以用线上来筛选服务，还有成交可以在线上结算，很快达到规模。该模式最重要的特点是：推广效果可查，每笔交易可跟踪。<br>O2O的优势在于把网上和网下的优势完美结合。通过网购导购机，把互联网与地面店完美对接，实现互联网落地。让消费者在享受线上优惠价格的同时，又可享受线下贴身的服务。同时，O2O模式还可实现不同商家的联盟。<br>O2O营销模式的核心：<br>O2O营销模式的核心是在线预付，在线支付不仅是支付本身的完成，是某次消费得以最终形成的唯一标志，更是消费数据唯一可靠的考核标准。其是对提供online服务的互联网专业公司而言，只有用户在线上完成支付，自身才可能从中获得效益。</p>
<h4 id="B2C"><a href="#B2C" class="headerlink" title="B2C"></a>B2C</h4><p>B2C是Business-to-Customer的缩写，而其中文简称为“商对客”。“商对客”是电子商务的一种模式，也就是通常说的商业零售，直接面向消费者销售产品和服务。这种形式的电子商务一般以网络零售业为主，主要借助于互联网开展在线销售活动。B2C即企业通过互联网为消费者提供一个新型的购物环境——网上商店，消费者通过网络在网上购物、在网上支付。<br>网站组成<br>B2C电子商务网站由三个基本部分组成：<br>1、为顾客提供在线购物场所的商场网站；<br>2、负责为客户所购商品进行配送的配送系统；<br>3、负责顾客身份的确认及货款结算的银行及认证系统。<br>代表网站：<br>天猫——为人服务做平台<br>京东——自主经营卖产品<br>凡客——自产自销做品牌</p>
<h4 id="B2B"><a href="#B2B" class="headerlink" title="B2B"></a>B2B</h4><p>B2B（企业对企业的电子商务模式），也有写成BTB，是指企业对企业之间的营销关系，它将企业内部网，通过B2B网站与客户紧密结合起来，通过网络的快速反应，为客户提供更好的服务，从而促进企业的业务发展(Business Development)。近年来B2B发展势头迅猛，趋于成熟。<br>B2B是指进行电子商务交易的供需双方都是商家（或企业、公司），她（他）们使用了互联网的技术或各种商务网络平台，完成商务交易的过程。电子商务是现代B2Bmarketing的一种具体主要的表现形式。<br>含有三要素：<br>1、买卖：B2B网站平台为消费者提供质优价廉的商品，吸引消费者购买的同时促使更多商家的入驻。<br>2、合作：与物流公司建立合作关系，为消费者的购买行为提供最终保障，这是B2B平台硬性条件之一。<br>3、服务：物流主要是为消费者提供购买服务，从而实现再一次的交易。<br>代表网站<br>B2B网站排名阿里巴巴<br>慧聪网<br>中国供应商<br>世界工厂网</p>
<h4 id="C2C"><a href="#C2C" class="headerlink" title="C2C"></a>C2C</h4><p>c2c实际是电子商务的专业用语，是个人与个人之间的电子商务。c2c即消费者间 ，因为英文中的2的发音同to，所以c to c简写为c2c。c指的是消费者，因为消费者的英文单词是Customer（Consumer），所以简写为c，而C2C即 Customer（Consumer） to Customer（Consumer）。C2C的意思就是个人与个人之间的电子商务。比如一个消费者有一台电脑，通过网络进行交易，把它出售给另外一个消费者，此种交易类型就称为C2C电子商务。<br>代表网站： 淘宝网 易趣网 拍拍网<br>毫无疑问，淘宝在C2C领域的领先地位暂时还没有人能够撼动。然而，淘宝却也不得不承受这份领先带来的沉甸甸压力。在领先与压力之间，淘宝在奋力往前走。</p>
<h4 id="P2C"><a href="#P2C" class="headerlink" title="P2C"></a>P2C</h4><p>P2C即production to consumer简称为商品和顾客，产品从生产企业直接送到消费者手中，中间没有任何的交易环节。是继B2B、B2C、C2C之后的又一个电子商务新概念。在国内叫做：生活服务平台。<br>P2C具体表现为：如果哪天家乐福、沃尔玛、大中电器等这些零售业巨头也进军电子商务，通过互联网开展商务活动，这种商务活动的可能性一直是存在的，并且随着互联网技术的平台发展，还会向中小企业逐步渗透。<br>P2C把老百姓日常生活当中的一切密切相关的服务信息，如房产、餐饮、交友、家政服务、票务、健康、医疗、保健等聚合在平台上，实现服务业的电子商务化。</p>

      
    </div>
    <footer class="article-footer">
      
      
      
      
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/B2B/">B2B</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/B2C/">B2C</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C2C/">C2C</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/P2P/">P2P</a></li></ul>

      

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->


  
    <article id="post-blog在coding和github同时部署"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/05/12/blog在coding和github同时部署/">blog在coding和github同时部署</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/05/12/blog在coding和github同时部署/" class="article-date">
	  <time datetime="2018-05-12T15:13:00.000Z" itemprop="datePublished">2018-05-12</time>
	</a>

      
    <a class="article-category-link" href="/categories/hexo/">hexo</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>最早的之前的blog是在github上，但是github一方面是国外的（个人还是倾向在国内部署），另一方面github pages实现https比较麻烦。于是就将blog迁移到了coding，不过迁移之后我后悔了。coding的响应速度简直kd，而且非会员还要经过一个中间页，真是简直了，于是又将blog迁过来了。。。<br><a id="more"></a></p>
<h3 id="1-blog规划"><a href="#1-blog规划" class="headerlink" title="1.blog规划"></a>1.blog规划</h3><p>为了便于管理，静态博客分为两个项目管理，一个是博客源码（blogsource）另一个是博客生成码。突发奇想将博客源码和博客生成码在coding和github同时保存，而且能够同时部署。博客生成码可以部署在coding和github，但是博客源码不想暴漏出来，coding上将项目设置成私有项目可以实现，github是开放的（不投资RMB的情况）。于是将本该放到github的一份源码放到了gitee上。</p>
<h4 id="coding上的处理"><a href="#coding上的处理" class="headerlink" title="coding上的处理"></a>coding上的处理</h4><p>在coding上开blog项目（放博客生成码）和blogsource项目（放博客源码私有）。为了方便代码管理在coding上配置ssh。注意一点ssh可以配置用户下的和项目下的，用户下的拥有所有项目的读写权限，而项目下的仅可以对本项目进行pull操作。<br>ssh密钥添加步骤如下：</p>
<ul>
<li>生成ssh密钥：<code>ssh-keygen -t rsa -C &lt;your_email@example.com&gt;</code> 默认生成id_rsa（私钥）和id_rsa.pub（公钥）。系统默认读取id_rsa。为了区分在执行命令时指定生成的文件名为coding_rsa，会生成coding_rsa和coding_rsa.pub。为让系统能够读取到添加ssh agent，执行<code>ssh-add coding_rsa</code></li>
<li><code>open ~/.ssh</code>找到 coding_rsa.pub并复制其中的内容</li>
<li>登录coding在个人设置下找到ssh设置粘贴公钥信息，名字可以随便取</li>
<li>测试密钥是否可用，执行<code>ssh -T git@git.coding.net</code>，提示：<code>Hello alvin_me, You&#39;ve connected to Coding.net via SSH. This is a personal key.</code>代表成功。</li>
</ul>
<p>coding上博客域名采用阿里域名，绑定请参照<a href="https://coding.net/help/doc/pages/domain.html" target="_blank" rel="noopener">官方文档</a></p>
<h4 id="github上的处理"><a href="#github上的处理" class="headerlink" title="github上的处理"></a>github上的处理</h4><p>github pages的要求项目名为<code>&lt;github账户名&gt;.github.io</code>，按照项目名格式创建项目作为博客生成码部署地址。博客源码我们保存到gitee上。在gitee上创建blogsouce项目(放博客源码私有)存放一份博客源码。</p>
<p>github上ssh密钥的添加同在coding上的添加过程。</p>
<p>github上博客域名采用godaddy，由于godaddy的域名解析服务器被墙，可以参照文档<a href="https://www.jianshu.com/p/05289a4bc8b2" target="_blank" rel="noopener">如何搭建一个独立博客</a></p>
<h4 id="博客源码关键配置实现coding和gitee同时部署"><a href="#博客源码关键配置实现coding和gitee同时部署" class="headerlink" title="博客源码关键配置实现coding和gitee同时部署"></a>博客源码关键配置实现coding和gitee同时部署</h4><p>到博客源码顶级目录下（源码.git所在目录）执行以下命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$git remote add both git@git.coding.net:user/blogsource.git</span><br><span class="line"># 添加一个名为 both 的远端</span><br><span class="line">$git remote set-url --add --push both git@git.coding.net:user/blogsource.git</span><br><span class="line"># 为其添加 push 到 Coding 的 SSH 地址</span><br><span class="line">$git remote set-url --add --push both git@gitee.com:user/blogsource.git</span><br><span class="line"># 为其添加 push 到 GitHub 的 SSH 地址</span><br><span class="line"></span><br><span class="line">$git remote -v #查看当前远端仓库</span><br><span class="line">origin  git@git.coding.net:user/blogsource.git (fetch)</span><br><span class="line">origin  git@git.coding.net:user/blogsource.git (push)</span><br><span class="line">github  git@gitee.com:user/blogsource.git (fetch)</span><br><span class="line">github  git@gitee.com:user/blogsource.git (push)</span><br></pre></td></tr></table></figure></p>
<p>之后执行<code>git push both</code>，可以将博客源码同时推送到coding和gitee。</p>
<h4 id="博客源码关键配置实现coding和github同时部署"><a href="#博客源码关键配置实现coding和github同时部署" class="headerlink" title="博客源码关键配置实现coding和github同时部署"></a>博客源码关键配置实现coding和github同时部署</h4><p>在博客源码目录下找到项目下的_config.yml，找到deploy部分，设置成如下内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: </span><br><span class="line">    coding: git@git.coding.net:user/blog.git</span><br><span class="line">    github: git@github.com:user/user.github.io.git</span><br><span class="line">  branch: master</span><br><span class="line">  message: blog update</span><br></pre></td></tr></table></figure></p>
<p>最后我在mac下执行<code>hexo d</code>时报错<code>EACCES: permission denied, unlink... ...</code>，将.deploy_git目录改成非root用户即可：<code>sudo chown -R alvin:staff .deploy_git/</code>。</p>

      
    </div>
    <footer class="article-footer">
      
      
      
      
        
      

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->


  
    <article id="post-Hexo-踩坑"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/05/11/Hexo-踩坑/">Hexo 踩坑</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/05/11/Hexo-踩坑/" class="article-date">
	  <time datetime="2018-05-11T09:55:00.000Z" itemprop="datePublished">2018-05-11</time>
	</a>

      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>本以为可以轻轻松松的把静态博客搭建起来，但还是踩到了不少坑，这里主要记录一下遇到的大坑。<br><a id="more"></a></p>
<h3 id="Hexo历险记"><a href="#Hexo历险记" class="headerlink" title="Hexo历险记"></a>Hexo历险记</h3><p>整体按照安装步骤。</p>
<h4 id="node安装"><a href="#node安装" class="headerlink" title="node安装"></a>node安装</h4><p>node安装过程倒没有遇到多少坑，<a href="https://nodejs.org/zh-cn/download/" target="_blank" rel="noopener">node官网</a>介绍的比较详细，其中mac有两种安装方式<code>.tar.gz</code>和<code>pkg</code>。本人比较懒直接下载pkg进行可视化安装。</p>
<h4 id="hexo安装"><a href="#hexo安装" class="headerlink" title="hexo安装"></a>hexo安装</h4><p>hexo安装同样参考<a href="https://hexo.io/zh-cn/docs/index.html" target="_blank" rel="noopener">官网</a>。Hexo3.0以后执行<code>npm install -g hexo-cli</code>，涉及到到的指令有如下几个：</p>
<ul>
<li><code>hexo init &lt;folder&gt;</code> 初始化博客</li>
<li><code>hexo clean</code> 清除本地编译生成的静态文件</li>
<li><code>hexo g</code> 编译生成静态文件</li>
<li><code>hexo s</code> 本地运行博客，默认地址<code>http://localhost:4000</code></li>
</ul>
<h4 id="theme安装"><a href="#theme安装" class="headerlink" title="theme安装"></a>theme安装</h4><p>选好心仪的主题并找到对应git地址，进入博客主站目录下执行<code>git clone theme.git themes/maupassant</code>，个人比较喜欢简洁的风格就选择了maupassant主题。改主题需要两个插件支持，依次执行<code>npm install hexo-renderer-pug --save</code>和<code>npm install hexo-renderer-sass --save</code>，结果在执行的过程中出现如下错误。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ERROR Local hexo not found in ~/IdeaProjects/blogsourcenew/blog</span><br><span class="line">ERROR Try running: &apos;npm install hexo --save&apos;</span><br></pre></td></tr></table></figure></p>
<p>中间曲折的尝试过程不多说，本人主要进行了如下操作。</p>
<ul>
<li>升级node为最新版本</li>
<li>升级npm 执行<code>sudo npm i npm@latest -g</code></li>
</ul>
<h3 id="hexo界面操作"><a href="#hexo界面操作" class="headerlink" title="hexo界面操作"></a>hexo界面操作</h3><p>在使用过程中，需要创建markdown文件，编辑内容后再发布上去。整个过程比较繁琐，后来发现了<code>hexo-admin-qiniu</code>插件，执行<code>hexo s -d</code>后直接访问<code>http://localhost:4000/admin</code>进行界面化操作，创建/编辑文章、创建分类、粘贴图片（可直接上传到七牛云）、一键发布都是可以的，可以愉快的玩耍啦~~~</p>

      
    </div>
    <footer class="article-footer">
      
      
      
      
        
      

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->


  
    <article id="post-hello-world"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/05/11/hello-world/">Hexo Start Blog</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/05/11/hello-world/" class="article-date">
	  <time datetime="2018-05-11T08:54:00.000Z" itemprop="datePublished">2018-05-11</time>
	</a>

      
    <a class="article-category-link" href="/categories/hexo/">hexo</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      
      
      
      
        
      

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->


  
    <article id="post-linuxexprt"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/03/16/linuxexprt/">linux 常用命令</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/03/16/linuxexprt/" class="article-date">
	  <time datetime="2017-03-16T15:15:00.000Z" itemprop="datePublished">2017-03-16</time>
	</a>

      
    <a class="article-category-link" href="/categories/linux/">linux</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="https://coding.net/u/alvin_me/p/blogpics/git/raw/master/persononmount.png" alt="paste image"><br>在开发运维当中，一些基本的 linux 命令还是要掌握一些的<br><a id="more"></a></p>
<h3 id="命令基本格式"><a href="#命令基本格式" class="headerlink" title="命令基本格式"></a>命令基本格式</h3><p>[root@localhost ~]#<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">其中：root   当前登录用户</span><br><span class="line"> 	localhost 主机名</span><br><span class="line">     ~ 当前所在目录（家目录）</span><br><span class="line">     # 超级用户的提示符</span><br><span class="line">  	 普通用户的提示符是 `$`</span><br><span class="line">命令 [选项] [参数]  注意：a.个别不遵循 b.多个选项可以写在一起  c.简化选项与完整选项 -a等于--all</span><br></pre></td></tr></table></figure></p>
<h3 id="查询目录中的内容ls"><a href="#查询目录中的内容ls" class="headerlink" title="查询目录中的内容ls"></a>查询目录中的内容ls</h3><pre><code>ls [选项] [文件或目录]
选项：
-a 显示所有文件，包括隐藏文件
-l 显示详细信息
-d 查看目录的属性
-h 人性化显示文件大小
-i 显示inode     每个文件都有id号  查找时根据id查找

-rw-r--r--.  22 root root 4096 7月  27 22:12 var

第一字符代表文件类型：-代表文件 d 代表目录 | 代表软连接文件  总共有七种文件类型主要掌握三种
第一位除外，每三个一组    rw- :u所有者  r--:g所属组  r--:o其它人
字母含义：r读  w写 x执行
最后一个点：ACL权限
22：引用计数
root:用户
root:组
4096：代表文件大小为4096字节  可以规范化显示大小 ls -lh  h可以显示kb
</code></pre><h3 id="文件处理命令"><a href="#文件处理命令" class="headerlink" title="文件处理命令"></a>文件处理命令</h3><h4 id="目录处理命令"><a href="#目录处理命令" class="headerlink" title="目录处理命令"></a>目录处理命令</h4><h5 id="建立目录"><a href="#建立目录" class="headerlink" title="建立目录"></a>建立目录</h5><pre><code>mkdir -p [目录名]
-p 递归创建   递归创建意思是 一级一级往下创建目录 直到最底层
</code></pre><h5 id="切换目录命令"><a href="#切换目录命令" class="headerlink" title="切换目录命令"></a>切换目录命令</h5><pre><code>cd [目录]
简化操作：
cd ~    进入当前用户的家目录
cd      进入当前用户的家目录 
cd -    进入上次目录
cd ..    进入上一级目录
cd .    进入当前目录
</code></pre><h5 id="pwd-显示当前用户所在位置"><a href="#pwd-显示当前用户所在位置" class="headerlink" title="pwd     显示当前用户所在位置"></a>pwd     显示当前用户所在位置</h5><h5 id="tab键-命令或文件或目录补全"><a href="#tab键-命令或文件或目录补全" class="headerlink" title="tab键 命令或文件或目录补全"></a>tab键 命令或文件或目录补全</h5><h5 id="删除空目录"><a href="#删除空目录" class="headerlink" title="删除空目录"></a>删除空目录</h5><pre><code>rmdir [目录名]
</code></pre><h5 id="删除文件或目录"><a href="#删除文件或目录" class="headerlink" title="删除文件或目录"></a>删除文件或目录</h5><pre><code>rm -rf [文件或目录]
选项：
-r 删除目录
-f 强制   
</code></pre><h4 id="文件处理命令-1"><a href="#文件处理命令-1" class="headerlink" title="文件处理命令"></a>文件处理命令</h4><h4 id="链接命令"><a href="#链接命令" class="headerlink" title="链接命令"></a>链接命令</h4><pre><code>a.硬链接
创建命令：  ln 文件  文件硬连接名[.hard]
拥有相同的i节点和存储block块，可以看作同一个文件
可通过i节点识别  ls -i 文件1 文件2(硬链接)
不能跨分区
不能针对目录使用
b.软连接
创建命令：ln -s 文件 文件软连接名[.soft]
类似windows快捷方式
拥有自己的i节点和block块，但数据块中存储源文件的文件名和i节点
lrwxrwxrwx  l软连接
修改任意一个都改变
</code></pre><h3 id="文件搜索命令"><a href="#文件搜索命令" class="headerlink" title="文件搜索命令"></a>文件搜索命令</h3><h4 id="locate搜索命令"><a href="#locate搜索命令" class="headerlink" title="locate搜索命令"></a>locate搜索命令</h4><pre><code>locate 文件名
在后台数据库中搜索文件名，搜索速度较快，只能通过文件名搜索

/var/lib/mlocate
locate命令搜索的后台数据库 一般一天一更新  可通过updatedb命令手动更新

locate搜索按照 /etc/updatedb.conf 配置规则进行搜索
</code></pre><h4 id="命令搜索命令whereis-和-which"><a href="#命令搜索命令whereis-和-which" class="headerlink" title="命令搜索命令whereis 和 which"></a>命令搜索命令whereis 和 which</h4><pre><code>shell中的内置命令不能使用
(1) whereis 命令名
#搜索命令所在路径及帮助文档所在位置
选项：
-b：只查找可执行文件
-m:只查找帮助文件
(2)which 命令名
#搜索命令所在路径及显示命令的别名
</code></pre><h4 id="find命令"><a href="#find命令" class="headerlink" title="find命令"></a>find命令</h4><pre><code>find [搜索范围] [搜索条件]
#搜索指定范围的文件

如：find / -name install.log
#避免大范围搜索，会非常消耗系统资源

#find 在系统中搜索指定文件名的文件，默认完整匹配；若模糊匹配，要使用通配符
*匹配任意内容
?匹配任意一个字符
[]匹配中括号内的字符

find /root -iname install.log 
#-iname不区分大小写

find /root -user root
#按照所有者搜索文件

find /root -nouser
#搜索没有所有者的文件 即垃圾文件

find /var/log/ -mtime +10
#查找10天前修改的文件
-10 10天内
10 10天当天
+10 10天前
actime 文件访问的时间
ctime    文件创建的时间
mtime    修改文件内容

find . -size 25k
#查找文件大小是25kb的文件
-25k    小于25kb的文件
25k     等于25kb的文件
+25k    大于25kb的文件

find . inum 262422 
#查找i节点是262422的文件

find /ect -size +20k -a -size  -50k
#查找etc目录下 大于20kb并且小于50kb的文件
-a and 逻辑与
-o or   逻辑或


find /ect -size +20k -a -size  -50k -exec ls -lh {}\;
#查找etc目录下 大于20kb并且小于50kb的文件，并显示详细信息
#exec/-ok 命令 ｛｝\;固定格式；对搜索结果执行操作；
</code></pre><h4 id="搜索字符串命令"><a href="#搜索字符串命令" class="headerlink" title="搜索字符串命令"></a>搜索字符串命令</h4><pre><code>grep [选项] 字符串 文件名
#在文件中匹配符合条件的字符串
选项：-i 忽略大小写
      -v 排除指定字符串
</code></pre><h3 id="帮助命令"><a href="#帮助命令" class="headerlink" title="帮助命令"></a>帮助命令</h3><h4 id="man帮助命令"><a href="#man帮助命令" class="headerlink" title="man帮助命令"></a>man帮助命令</h4><pre><code> man 命令
#获取指定命令的帮助
执行man命令之后可输入 /content  查询content

man的级别
1:查看命令的帮助
2：查看可被内核调用的函数的帮助
3：查看函数和函数库的帮助
4：查看特殊文件的帮助(主要是/dev目录下的文件)
5：查看配置文件的帮组
6：查看游戏的帮助
7：查看其它杂项的帮助
8：查看系统管理员可用命令的帮助
9：查看和内核相关文件的帮助

man -f 命令名
#查看某个命令有哪个级别的帮助
该命令相当于：
whatis 命令
举例：
man 5 passwd
man 4 null
man -8 ifconfig

man -k 命令
相当于
apropos 命令
#查看和命令相关的所有帮助
例如：
apropos passwd
</code></pre><h4 id="其它帮助"><a href="#其它帮助" class="headerlink" title="其它帮助"></a>其它帮助</h4><pre><code>命令 --help 
#获取命令选项的帮助
例如：ls --help

shell内部帮助命令
help shell内部命令
#获取shell内部命令的帮助
例如： 
whereis cd
#确定是否是shell内部命令  --找不到执行路径的就是内部命令
help cd
#获取内部命令帮助
</code></pre><h3 id="压缩命令"><a href="#压缩命令" class="headerlink" title="压缩命令"></a>压缩命令</h3><pre><code>linux常用压缩格式 .zip .gz  .bz2  .tar.gz  .tar.bz2
</code></pre><h4 id="zip格式压缩"><a href="#zip格式压缩" class="headerlink" title=".zip格式压缩"></a>.zip格式压缩</h4><pre><code>zip  压缩文件名 源文件
#压缩文件
zip -r 压缩文件名 源目录
#压缩目录

unzip 压缩文件
#解压缩.zip文件
</code></pre><h4 id="gz格式压缩"><a href="#gz格式压缩" class="headerlink" title=".gz格式压缩"></a>.gz格式压缩</h4><pre><code>gzip 源文件
#压缩为.gz格式的压缩文件，源文件会消失

gzip -c 源文件 &gt; 压缩文件
#压缩为.gz格式，源文件保留
例如：gzip -c cangls &gt; cangls.gz

gzip -r 目录
#压缩目录下所有的子文件,单个，但是不能压缩目录

gzip -d 压缩文件
#解压缩文件
或
gunzip 压缩文件
#解压缩文件
</code></pre><h4 id="bz2格式压缩"><a href="#bz2格式压缩" class="headerlink" title=".bz2格式压缩"></a>.bz2格式压缩</h4><pre><code>bzip2 源文件
#压缩为.bz2格式，不保留源文件

bzip2 -k 源文件
#压缩之后保留源文件
注意：bzip2命令不能压缩目录

bzip2 -d 压缩文件
#解压缩，-k保留压缩文件
或
bunzip2 压缩文件，-k 保留压缩文件
</code></pre><h4 id="打包命令tar"><a href="#打包命令tar" class="headerlink" title="打包命令tar"></a>打包命令tar</h4><pre><code>tar -cvf 打包文件名 源文件
选项：
-c:打包
-v:显示过程
-f:指定打包后的文件名
例如：
tar -cvf longzls.tar longzls

tar -xvf 打包文件名
选项：
    -x:解打包
例如：tar -xvf longzls.tar
</code></pre><h4 id="tar-gz压缩格式"><a href="#tar-gz压缩格式" class="headerlink" title=".tar.gz压缩格式"></a>.tar.gz压缩格式</h4><pre><code>其实就是先打包为.tar格式，再压缩为.gz格式

tar -zcvf 压缩包名.tar.gz 源文件 
选项：
    -z:压缩为.tar.gz格式

tar -zxvf 压缩包名.tar.gz     
选项：
    -x:解压缩.tar.gz格式
</code></pre><h4 id="tar-bz2压缩格式"><a href="#tar-bz2压缩格式" class="headerlink" title=".tar.bz2压缩格式"></a>.tar.bz2压缩格式</h4><pre><code>其实就是先打包为.tar格式，再压缩为.bz2格式

tar -jcvf 压缩包名.tar.bz2 源文件 
选项：
    -z:压缩为.tar.bz2格式

tar -jxvf 压缩包名.tar.bz2
选项：
    -x:解压缩.tar.bz2格式
</code></pre><h4 id="技巧"><a href="#技巧" class="headerlink" title="技巧"></a>技巧</h4><pre><code>(1)指定解压缩位置
tar -zxvf 压缩包名.tar.gz -c /tmp/
选项：
    -c:指定解压缩的具体位置

(2)压缩多个文件,并指定压缩文件所在位置
tar -zcvf /tmp/test.tar.gz  jp a.cfg
#将jp文件夹及a.cfg文件压缩到/tmp/test.tar.gz

(3)只查看不解压
tar -ztvf  test.tar.gz
#查看压缩文件test.tar.gz的内容 
选项-t代表查看压缩文件的内容
</code></pre><h3 id="关机与重启命令"><a href="#关机与重启命令" class="headerlink" title="关机与重启命令"></a>关机与重启命令</h3><h4 id="shutdown命令"><a href="#shutdown命令" class="headerlink" title="shutdown命令"></a>shutdown命令</h4><pre><code>shutdown [选项] 时间
选项
-c:取消前一个关机命令
-h:关机
-r:重启 
时间可以是now就是立刻重启
例如：shutdown -r 05:30 &amp;
    #在凌晨五点半重启电脑，&amp;的意思是放后台执行，前台仍可以进行其它操作
    shutdown -c
    #取消上面的重启命令
</code></pre><h4 id="其它关机命令"><a href="#其它关机命令" class="headerlink" title="其它关机命令"></a>其它关机命令</h4><pre><code>halt
poweroff
init 0
这几个没有shutdown命令安全，shutdown是保存数据库再做操作，而这几个就不一定保存数据
</code></pre><h4 id="其它重启命令"><a href="#其它重启命令" class="headerlink" title="其它重启命令"></a>其它重启命令</h4><pre><code>reboot
init 6
reboot 重启也是比较安全的，但init 6就不安全
</code></pre><h4 id="系统运行级别"><a href="#系统运行级别" class="headerlink" title="系统运行级别"></a>系统运行级别</h4><pre><code>0：关机
1：单用户(类似windows中安全模式)
2：不完全多用户，不含NFS服务(文件共享服务)
3：完全多用户
4：未分配
5：图形界面
6：重启

查看系统运行级别
runlevel
显示：N 3        
#N代表上一个运行级别为空，当前运行级别为3

修改系统登录时默认运行级别：
centos6以前：
vi /ect/inittab中修改 id:3:initdefault:
</code></pre><h4 id="退出登录命令"><a href="#退出登录命令" class="headerlink" title="退出登录命令"></a>退出登录命令</h4><pre><code>logout
</code></pre><h3 id="其它常用命令"><a href="#其它常用命令" class="headerlink" title="其它常用命令"></a>其它常用命令</h3><h4 id="挂载命令"><a href="#挂载命令" class="headerlink" title="挂载命令"></a>挂载命令</h4><pre><code>(1)查询与自动挂载
mount
#查询系统中已经挂载的设备

mount -a
#依据配置文件/etc/fstab的内容，自动挂载

(2)、挂载命令格式
mount [-t 文件系统] [-o 特殊选项] 设备文件名  挂载点
选项：
-t 文件系统：加入文件系统类型来指定挂载待类型，可以ext3、ext4、iso9660(挂载光盘使用d文件系统)等
-o 特殊选项：可以指定挂载待额外选项 自行百度

mount -o remount,noexec /home/
#remount重新挂载，noexec是挂载的系统没有执行权限，没写文件系统是因为
/home/是默认挂载好的，已经知道文件系统类型

(3)、挂载光盘
mnt 一般是挂载u盘待目录 
media 一般是挂载光盘待目录
misc 一般是挂载磁带机的目录
既然是一般，当然也可根据习惯挂载其它目录
下面我们在mnt下创建cdrom挂载光盘 创建usb挂载U盘

mkdir /mnt/cdrom
#创建光盘挂载点
mount [-t iso9660]  /dev/sr0/  /mnt/cdrom
#挂载光盘 注意/dev/sr0 其中sr0是光盘的设备文件名 /dev/cdrom是/dev/sr0的软连接
可以去/mnt/cdrom下挂载的内容

(4)、卸载命令
umount 设备文件名或挂载点

umount /mnt/cdrom/
或
umount /dev/sr0/
#卸载光盘

注意：为了防止出错，用完后一定要卸载

(5)、挂载U盘
因为u盘设备文件名不固定，先查看设备文件名
fdisk -l 
#查看U盘设备文件名

mkdir /mnt/usb
#创建U盘挂载点
mount -t vfat /dev/sdb1 /mnt/usb
# vfat 代表文件系统为fat32(单个文件最大4G) /dev/sdb1为U盘设备文件名(以查到的为准)
注意：Linux 默认不支持NTFS系统
</code></pre><h4 id="用户登录查看命令"><a href="#用户登录查看命令" class="headerlink" title="用户登录查看命令"></a>用户登录查看命令</h4><pre><code>(1)w  [用户名]
#查看指定用户登录情况
w
#查看所有登录用户
结果：
08:48:09 up 16:51,  2 users,  load average: 0.00, 0.01, 0.05
USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
root     tty1       六17   15:07m  0.07s  0.07s -bash
root     pts/0     07:22    1.00s  0.24s  0.03s w

#其中：
    08:48:09 up 16:51 系统到08:48:09运行了16小时51分钟
    2 users   总共两个用户登录
    load average  系统在1分钟 5分钟 和15分钟占据的负载压力
    USER:登录用户名
    TTY:登录终端 tty1代表本机登陆 pts/0代表远程终端
    FROM:从哪个ip地址登录；
    LOGIN@:登录时间；
    IDLE：用户闲置时间；
    JCPU：指的是和该终端链接的所有进程占用的时间。这个时间里并不包括过去的
        后台作业时间,但却包括当前正在运行的后台作业所占用的时间；
    PCUP:是指当前进程所占用的时间
    WHAT:当前正在运行的命令

(2)who [用户名]
功能与w命令相似

who
#命令输出：
-用户名
-登录终端
-登录时间(登录来源ip地址)

(3)last
查询当前登录和过去登录的用户信息
last命令默认读取/var/log/wtmp文件数据

last
#命令输出：
-用户名
-登录终端
-登录ip
-登录时间
-退出时间(在线时间)

(4)lastlog
查看系统所有用户最后登录时间
lastlog命令默认读取/var/log/lastlog文件数据

lastlog
#命令输出：
-用户名
-登录终端
-登录ip
-最后一次登录时间
</code></pre><h3 id="shell基础"><a href="#shell基础" class="headerlink" title="shell基础"></a>shell基础</h3><h4 id="shell概述"><a href="#shell概述" class="headerlink" title="shell概述"></a>shell概述</h4><pre><code>(1)、shell概述
*shell 是一个命令行解释器，它为用户提供了一个向linux内核发送请求以便
    运行程序待界面系统程序，用户可以通过shell启动、挂起、停止甚至编写
    一些程序
*shell还是一个功能相当强大的编程语言，在shell中可以直接调用linux系统命令
(2)、shell分类
*Bourne Shell:1979开始使用，Bourne Shell的主文件名为sh  基本已淘汰
*C Shell:主要在BSD版的Unix系统中使用，其语法和c语言相似
*Shell 两种主要语法有Bourn和C，两种语法不兼容。
    Bourn家族主要包括sh、ksh、Bash(linux标准shell)、psh、zsh;C家族主要有：csh、tcsh

echo $SHELL
#查看系统使用的shell版本 
echo 代表输出 $ 调用变量  SHELL为shell的变量名  

(3)、查看系统支持shell
    cat /etc/shells
    #查看兼容的所有shell版本

    切换shell输入相应shell版本名称即可
    sh
    #将shell版本切换为sh
    exit退出子shell
</code></pre><h4 id="脚本执行方式"><a href="#脚本执行方式" class="headerlink" title="脚本执行方式"></a>脚本执行方式</h4><pre><code>(1)echo 输出命令
echo [选项] [输出内容]
选项：
-e:支持反斜线控制的字符转换

echo &quot;Today is sunday.Where we go?&quot;
#在屏幕输出 Today is sunday.Where we go?
注意：有空格就要用引号

echo -e &quot;Today is\b sunday.Where we go?&quot;
#在屏幕输出 Today i sunday.Where we go?
少了一个s
支持的字符转换：
\a 输出警告音
\b 退格键，也就是向左删除键
\n 换行键
\r 回车键
\t 制表符 tab键
\v 垂直制表符
\0nnn 按照八进制ASCII码表输出字符。其中0为数字零，nnn是三位八进制数
\xhh 按照16进制ASCII码表输出字符。其中hh是两位十六进制数

echo -e &quot;\e[1;31m 嫁人就要嫁凤姐\e[0m&quot;
#以红色字体显示：嫁人就要嫁凤姐 \e[1; 是开启颜色 31m=红色 \e[0m是关闭颜色显示
#输出颜色
    30m=黑色 31=红色 32m=绿色 33m=黄色
    34m=蓝色 35m=洋红 36m=青色 37m=白色  

(2)第一个脚本
vim hello.sh
#创建文件hello.sh
在hello.sh中输入下面内容：
    #!/bin/bash
    #The first program
    echo  -e &quot;\e[1;31m天上掉下个林妹妹\e[0m&quot;
注意：#!/bin/bash 这句比较特殊不是注释  声明该脚本为bash脚本 必须添加 不然复杂脚本可能报错
(3)执行一个脚本
    a.赋予执行权限，直接运行
        chmod 755 hello.sh
        ./hello.sh
    b. 通过bash调用执行脚本
        bash hello.sh
</code></pre><h4 id="bash的基本功能"><a href="#bash的基本功能" class="headerlink" title="bash的基本功能"></a>bash的基本功能</h4><pre><code>(1)命令别名与快捷键
alias
#查看系统中所有命令的别名

alias 别名=&apos;原命令&apos;
#设定命令别名(重启失效)

vi ~/.bashrc
#修改家目录下的bashrc文件 使别名永久生效 默认重新登陆生效  
也可使用 source .bashrc命令使立即生效

unalias 别名
#删除别名(重启失效) 若要永久生效 删除bashrc中定义的别名
并使用source .bashrc命令使其不用重新登陆就可以立即生效

命令生效顺序：
*第一顺位 使用绝对路径或相对路径执行命令
*第二顺位 执行别名
*第三顺位 执行bash的内部命令
*第四顺位 从$PATH中查找到的第一个命令

快捷键：
ctrl+c    强制终止当前命令
ctrl+l  清屏
ctrl+a  光标移动到命令的首行
ctrl+e  光标移动到命令的行尾
ctrl+u  从光标所在的位置删除到行首
ctrl+z  把命令放入后台
ctrl+r  在历史命令中搜索

(2)历史命令
 history [选项] [历史命令保存文件]
 选项:
 -c ：清空历史命令
 -w ：把缓存中的历史命令写入到历史命令保存文件~/.bash_history

 历史命令的调用
 *使用上下箭头调用以前的命令
 *使用!n重复执行第n条历史命令
 *使用!!重复执行上一条命令
 *使用&quot;!字串&quot; 重复执行最后一条以该字串开头的命令 

命令与文件补全
*在bash中，按&quot;Tab&quot;键自动进行补全

(3)输出重定向
    &lt;1&gt;标准输入输出
    设备            设备文件名            文件描述符            类型        
    键盘               /dev/stdin                0                标准输入
    显示器            /dev/sdtout                1                标准输出
    显示器            /dev/sdterr                2                标准错误输出 

    &lt;2&gt;输出重定向
    类型                        符号                    作用
    标准输出重定向                命令&gt;文件                以覆盖的方式，把命令的正确输出输出到指定的文件或设备当中
    标准输出重定向                命令&gt;&gt;文件                以追加的方式，把命令的正确输出输出到指定的文件或设备当中
    标准错误输出重定向            错误命令 2&gt;文件            以覆盖的方式，把命令的正确输出输出到指定的文件或设备当中
    标准错误输出重定向            错误命令 2&gt;&gt;文件         以追加的方式，把命令的正确输出输出到指定的文件或设备当中
    正确输出和错误输出同时保存    命令&gt;文件 2&gt;&amp;1             以覆盖的方式，把正确输出和错误输出都保存到同一个文件当中
    正确输出和错误输出同时保存    命令&gt;&gt;文件 2&gt;&amp;1         以追加的方式，把正确输出和错误输出都保存到同一个文件当中
    正确输出和错误输出同时保存    命令 &amp;&gt;文件             以覆盖的方式，把正确输出和错误输出都保存到同一个文件当中
    正确输出和错误输出同时保存    命令 &amp;&gt;&gt;文件             以追加的方式，把正确输出和错误输出都保存到同一个文件当中
    正确输出和错误输出同时保存    命令&gt;&gt;文件1 2&gt;&gt;文件2    把正确的输出追加到文件1中，把错误的输出追加到文件2中
    #上面的2代表文件描述符 意思是当出错时 把错误信息输出到文件  并且2后面不能有空格

    ls &amp;&gt;/dev/null
    #将执行结果直接丢弃 既不显示在屏幕上，也不保存到文件中  null相当于windows系统中垃圾回收站

(4)输入重定向
    wc [选项][文件名]
    选项:
    -c: 统计字节数
    -w: 统计单词数
    -l: 统计行数

    输入wc
    输入sdfds
    按ctrl+d 统计行数 单词数 字符数 

    *命令&lt;文件 
    #把文件作为命令的输入
    *命令&lt;&lt;标识符

(5)管道符
&lt;1&gt;多命令顺序执行
 多名令执行符                    格式                        作用
    ;                        命令1;命令2                多个命令顺序执行，命令之间没有任何逻辑关系
    &amp;&amp;                        命令1&amp;&amp;命令2            逻辑与；当命令1正确执行，命令2才会执行；当命令1不正确，命令2不会执行
    ||                        命令1||命令2            逻辑或；当命令1执行不正确，命令2才会执行；当命令1正确，命令2不会执行

&lt;2&gt;管道符
    命令格式：
    命令1 | 命令2
    #命令1的正确输出作为命令2的操作对象

    netstat -an | grep ESTABLISHED
    #从netstat -an执行结果中搜索ESTABLISHED

(6)通配符
&lt;1&gt; 通配符
            通配符                                        作用
              ？                                        匹配一个任意字符
              *                                            匹配0个或任意多个字符，也就是可以匹配任意内容
              []                                        匹配括号中任意一个字符。例如[abc]代表匹配a或b或c
              [-]                                        匹配括号中任意一个字符，-代表范围。例：[a-z]代表匹配一个小写字母
              [^]                                        逻辑非，表示匹配不是中括号内的一个字符。例如：[^0-9]代表匹配一个不是数字的字符
&lt;2&gt;Bash中其它特殊符号
</code></pre><h3 id="VIM文本编辑器"><a href="#VIM文本编辑器" class="headerlink" title="VIM文本编辑器"></a>VIM文本编辑器</h3><h4 id="VIM文本编辑器概述"><a href="#VIM文本编辑器概述" class="headerlink" title="VIM文本编辑器概述"></a>VIM文本编辑器概述</h4><pre><code>*vi---&gt;VIM VIM是VI升级版

*VIM相对VI做了哪些提升
    -VIM支持多级撤销(u)
    -VIM可以跨平台运行 vi只能运行在以unix为内核的系统中 VIM可以运行在其它平台(如linux)
    -VIM支持语法高亮
    -VIM支持图形界面
</code></pre><h4 id="VIM操作模式和命令模式"><a href="#VIM操作模式和命令模式" class="headerlink" title="VIM操作模式和命令模式"></a>VIM操作模式和命令模式</h4><pre><code>*command mode         -命令模式
*insert mode          -插入模式
*last line mode        -底行模式(尾行、末行)

vim abc
#打开abc，若没有创建abc并打开

首先进入命令模式---&gt;i键进入插入模式---&gt;esc键进入底行模式 :wq 保存退出     :q或:q! 不保存退出
命令模式下 dd表示删除一行

vim +[i] abc
#打开abc 并定位到最后一行(第i行)

vim +/alvin abc
#打开abc，并定位到alvin第一次出现的地方 n可以在多个alvin之间切换

vim aa bb cc
#若不存在创建多个文件，若存在打开多个文件  底行模式下输入n切换到下一个文件
输入prev或N切换到上一个文件
</code></pre><h4 id="底行模式和命令模式常用命令"><a href="#底行模式和命令模式常用命令" class="headerlink" title="底行模式和命令模式常用命令"></a>底行模式和命令模式常用命令</h4><pre><code>(1)底行模式常用命令
(2)命令模式常用命令
    -h 光标左移
    -j 光标下移
    -k 光标上移
    -l 光标右移
    -ctrl+f 向下翻页(front)
    -ctrl+b 向上翻页(back)
    -ctrl+d 向下翻半页(down)
    -ctrl+u 向上翻半页(up)
    -dd     删除光标所在一行
    -o         在光标所在位置下方插入一行并切换到插入模式
    -yy        复制光标所在的一行
    -p        在光标所在行的下方粘贴
</code></pre><h3 id="磁盘管理"><a href="#磁盘管理" class="headerlink" title="磁盘管理"></a>磁盘管理</h3><h4 id="磁盘管理基本命令"><a href="#磁盘管理基本命令" class="headerlink" title="磁盘管理基本命令"></a>磁盘管理基本命令</h4><pre><code>df 查看磁盘分区使用情况
    -l 仅显示本地磁盘(默认)
    -a 显示所有文件系统的磁盘使用情况，包含比如/proc/
    -h 以1024进制计算最合适的单位显示磁盘容量
    -H 以1000进制计算最合适的单位显示磁盘容量
    -T 显示磁盘分区类型
    -t 显示指定文件系统的磁盘分区
    -x 不显示指定文件系统的磁盘分区

du 统计磁盘上的文件大小
    -b 以byte为单位统计文件
    -k 以kb为单位统计文件
    -m 以mb为单位统计
    -h 以1024进制计算最合适的单位显示磁盘容量
    -H 以1000进制计算最合适的单位显示磁盘容量
    -s 指定统计目标 跟参数
</code></pre><h4 id="硬盘分区和格式化概述"><a href="#硬盘分区和格式化概述" class="headerlink" title="硬盘分区和格式化概述"></a>硬盘分区和格式化概述</h4><pre><code>在服务器挂载新的硬盘
</code></pre><h4 id="在VM虚拟机中添加硬盘"><a href="#在VM虚拟机中添加硬盘" class="headerlink" title="在VM虚拟机中添加硬盘"></a>在VM虚拟机中添加硬盘</h4><pre><code>场景:硬盘空间不够用 需添加新硬盘
</code></pre><h4 id="MBR分区-已经过时"><a href="#MBR分区-已经过时" class="headerlink" title="MBR分区(已经过时)"></a>MBR分区(已经过时)</h4><pre><code>-主分区不超过4个
-单个分区容量最大2TB

fdisk -l 
#查看硬盘大小及分区情况        

fdisk 未分区硬盘文件名
#进入分区模式
输入n 新增一个分区---&gt;选择主分区或者扩展分区---&gt;输入分区编号(1-4)---&gt;指定扇区开始位置----&gt;指定扇区结束位置或指定分区大小
</code></pre><h4 id="GPT分区"><a href="#GPT分区" class="headerlink" title="GPT分区"></a>GPT分区</h4><pre><code>-主分区个数&quot;几乎&quot;没有限制(最多支持128个主分区)
-单个分区容量&quot;几乎&quot;没有限制(最多支持18EB)
1EB=1024PB,1PB=1024TB

parted
#启动分区工具

select /dev/sdc
#切换到待分区的硬盘

mklable  gpt(或者msdos  msdos就是mbr)
#指定要用的分区表

print
#查看当前硬盘分区详情
print all
#查看所有硬盘分区详情

交互方式添加分区：
mkpart
#添加分区
添加分区名称---&gt;指定分区文件系统类型默认为ext2---&gt;指定开始MB 一般从1MB开始 预留1M左右4k对齐--&gt;指定结束MB---&gt;print查看目前分区状况

命令模式添加分区(不同于上面的方式)
mkpart test 2000 3000
#添加名称为test的分区  指定MB区间为2000-3000MB

rm n
#删除编号为n的分区

unit GB
#默认分区大小单位MB,使用unit命令指定分区单位为GB

若添加的分区重叠：会给出警告，系统给出建议性提示分区大小
</code></pre><h4 id="分区的格式化"><a href="#分区的格式化" class="headerlink" title="分区的格式化"></a>分区的格式化</h4><pre><code>mkfs.ext3 /dev/sdb1
#格式化 sdb1硬盘 指定系统文件类型为ext3

mkfs -t dext4 /dev/sdb2
#为另一种格式化方式 将sdb2格式化为ext4
</code></pre><h4 id="挂载分区"><a href="#挂载分区" class="headerlink" title="挂载分区"></a>挂载分区</h4><pre><code>分区--&gt;格式化--&gt;挂载  
经过这个过程才能使用硬盘

mkdir -p /mnt/alvin
#创建挂载目录

mount /dev/sdb1  /mnt/alvin
#挂载sdb1硬盘 指定挂载点为alvin

umount /mnt/alvin
#卸载挂载  参数为挂载点

mount挂载重启挂载失效
解决方法如下：
vim + /etc/fstab
#在fstab末添加 ： /dev/sdb1     /mnt/alvin  ext3  defaults  0   0
该方法挂载永久有效
</code></pre><h4 id="swap-交换分区"><a href="#swap-交换分区" class="headerlink" title="swap 交换分区"></a>swap 交换分区</h4><pre><code>创建交换分区步骤：
第一，建立一个普通的linux分区            
第二，修改分区类型的16进制编码
第三，格式化交换分区
第四，启用交换分区

fdisk /dev/sdb
#查看硬盘大小及分区情况
输入t--&gt;输入分区编号---&gt;指定交换分区hex code编号--&gt;输入w保存
mkswap /dev/sdb6
#格式化交换分区
swapon /dev/sdb6
#启用交换分区
free
#查看swap加载状况
swapoff /dev/sdb6
#停止交换分区
</code></pre><h3 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h3><h4 id="用户和用户组的概念"><a href="#用户和用户组的概念" class="headerlink" title="用户和用户组的概念"></a>用户和用户组的概念</h4><pre><code>用户：使用操作系统的人
用户组：具体相同权限的一组用户

* /etc/group 存储当前系统中所有用户组信息
    -Group:            x            :  123  :abc,def,xyz
    -组名称：    组密码占位符 ： 组编号  ：组中用户名列表

说明：root组编号为0；1-499为系统预留编号；用户手动创建的组编号从500开始包括500

* /etc/gshadow 存储当前系统中用户组的密码信息
    -Group:            *            :  123  :abc,def,xyz
    -组名称：    组密码 ： 组管理者  ：组中用户名列表

    说明：组密码 为* 或 ！说明密码为空


* /etc/passwd 存储当前系统中所有用户的信息
    -user :            x        :    123  :   456    :  xxxxxxxxxx    :    /home/user    :  /bin/bash
    -用户名：密码占位符        ：用户编号：用户组编号：用户注释信息  ：用户主目录        ：shell类型

说明：root用户编号为0

* /etc/shadow 存储当前系统中所有用户密码的信息
    -user :            x        :::::  
    -用户名：密码(单向加密)        ：：：：：：
</code></pre><h4 id="用户和用户组的基本命令"><a href="#用户和用户组的基本命令" class="headerlink" title="用户和用户组的基本命令"></a>用户和用户组的基本命令</h4><pre><code>groupadd group1
#添加用户组group1
groupmod -n group2 group1
#将组名由group1修改为group2
groupmod -g 668 group2
#将用户组group2的编号修改为668
groupadd -g 888 group3
#创建用户组group3，并指定组编号为888
groupdel group2
#删除用户组group2，要先删除组内用户

useradd -g group1 alvin
#创建用户alvin，并分配用户组为group1
useradd -g group1 alex
#创建用户alex，并分配用户组为group1
useradd -d /home/xxx mark
#创建用户mark，并创建个人文件夹为home下的xxx alvin和alex没有指定，则默认在home下创建同名个人文件夹

注意：若创建的用户没有手动分配用户组，则自动创建同名用户组 新建用户属于该组

usermod -c thisisalvin alvin
#修改用户alvin注释信息为thisisalvin
usermod -l alvin alex
#将用户名alex修改为alvin
usermod -d /home/alvin alvin
#修改用户alvin的个人文件夹路径为/home/alvin
usermod -g group1 alvin
#修改alvin所属用户组为group1
userdel alex
#删除用户alex 不会删除个人文件夹
userdel -r alex
#删除用户alex 同时删除个人文件夹
touch /etc/nologin
#创建空文件，禁止除root外的用户登录服务器
</code></pre><h4 id="用户和用户组进阶命令"><a href="#用户和用户组进阶命令" class="headerlink" title="用户和用户组进阶命令"></a>用户和用户组进阶命令</h4><pre><code>passwd -l alex
#锁定账户alex
passwd -u alex
#解锁账户alex
passwd -d alex
#清除alex的登录密码

主要组和附属组：
    用户可以同时属于多个组
    -一个主要组
    -多个附属组

gpasswd -a alex group2
#将alex添加到附属组group2
newgrp group2
#alex登录系统执行该命令，将当前组切换到附属组group2
gpasswd -d alex group2
#将alex用户从附属组group2中删除
useradd -g group1 -G group2,group3......  temp
#在创建用户temp的同时指定主要组为group1，附属组为group2,group3......
gpasswd group1
#指定用户组密码
</code></pre><h4 id="其它命令"><a href="#其它命令" class="headerlink" title="其它命令"></a>其它命令</h4><pre><code>su username
#切换用户

whoami
#显示登陆用户名

id 用户名 
#显示指定用户信息，包括用户编号、用户名、主要组编号，附属组列表

groups 用户名 
#显示用户所在的所有组

chfn 用户名 
#设置用户资料，依次输入用户资料

finger 用户名 
#显示用户详细资料
</code></pre>
      
    </div>
    <footer class="article-footer">
      
      
      
      
        
      

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/5/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/7/">下一页 &raquo;</a>
  </nav>

</section>
        
      </div>
      
        <div align="center" style="margin-top: 30px;"><hr class="hr" style="margin:0px; height:3px;"></div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><!-- and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> --> </p>
	      <p id="copyRightEn">Copyright &copy; 2013 - 2018 alvin&#39;s blog All Rights Reserved.</p>
	      
	      
    		<p class="busuanzi_uv">
				访客数 : <span id="busuanzi_value_site_uv"></span> |  
				访问量 : <span id="busuanzi_value_site_pv"></span>
		    </p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>

    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/scripts.js"></script>


  <script src="/js/home.js"></script>










	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            alvin&#39;s blog
          </div>
          <div class="panel-body">
            Copyright © 2018 alvin dong All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
</body>
</html>